{"version":3,"sources":["webpack:///./images/photo-red.jpg","webpack:///./templates/details-modal.hbs","webpack:///./js/refs.js","webpack:///./js/components/headers-tpl.js","webpack:///./js/decodingJenres.js","webpack:///./js/spinner.js","webpack:///./js/api-servise.js","webpack:///./js/pagination.js","webpack:///./js/modal-login.js","webpack:///./js/login-form.js","webpack:///./js/userLibrary.js","webpack:///./js/homePageRendering.js","webpack:///./js/movieSearch.js","webpack:///./js/modalMovie.js","webpack:///./js/modal-student.js"],"names":["module","exports","Handlebars","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","refs","headerSearchWarningShow","document","querySelector","filmsGallery","header","logo","homeLink","spinner","openModalBtn","closeModalBtn","backdrop","logOutbutton","userName","paginationContainer","headerTemplates","homeHeader","myLibraryHeader","modalHeader","decGenres","id","name","spinnerRef","showSpinner","classList","add","hideSpinner","remove","apiServise","query","page","setQuery","value","this","setPage","incrementPage","decrementPage","resetPage","paginateFilms","totalAmountOfFilms","options","totalItems","itemsPerPage","visiblePages","centerAlign","firstItemClassName","lastItemClassName","currentPage","moveButton","disabledMoveButton","moreButton","Pagination","paginateOnClick","addEventListener","event","target","nodeName","innerHTML","button","className","Number","textContent","renderFilmsGallery","finally","activeBtnRef1","activeBtnRef2","console","log","onCloseModal","window","removeEventListener","onEscKeyPress","body","code","currentTarget","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ui","firebaseui","auth","AuthUI","PhoneAuthProvider","filmotekaDatabase","database","ref","currentUserId","uiConfig","signInFlow","signInOptions","PROVIDER_ID","GoogleAuthProvider","EmailAuthProvider","AnonymousAuthProvider","callbacks","signInSuccessWithAuthResult","authResult","location","reload","setUserData","firebaseUser","uid","userId","userLibrary","userWatched","userQueue","updates","update","e","signOut","localStorage","removeItem","onAuthStateChanged","displayName","setItem","JSON","stringify","parse","getItem","getUserLibraryFromDatabase","start","updateUserWatched","movieData","userData","updateUserDatabase","addToWatchedBtn","contains","movieIndex","findIndex","movie","isInWatched","splice","toastr","isDublicate","some","push","changeWatchedBtnToRemove","userBase","on","elem","val","getUserWatchedFromDatabase","getUserQueueFromDatabase","changeQueueBtnToRemove","addToQueueBtn","changeQueueBtnToAdd","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","usersBase","headerTpl","libraryBtn","updateHeaderMarkup","insertAdjacentHTML","libraryHandleClick","fetch","path","then","response","json","results","total_results","map","poster_path","title","release_date","genre_ids","mapedGenres","genres","filter","genre","includes","slicedMapedGenres","length","slice","markup","toUpperCase","join","split","preventDefault","watchedFilms","queuedFilms","watchedBtn","queueBtn","onLibraryButtonsClick","activeBtn","inactiveBtn","films","updateFilmsLibraryMarkup","localStorageFilms","vote_average","style","display","catch","searchForm","notice","listenSearchFormSubmit","form","input","elements","reset","movieId","inputValue","activeLink","closeMovieDetails","filmsGalleryList","res","fetchApiSearch","updateFilmsGalleryMarkup","renderSearchFilmsGallery","pagination","userLocalStorageWatched","userLocalStorageQueue","renderLibrary","onPressESC","closeOnClick","main","headerSearchInput","getActiveElements","parentNode","dataset","baseUrl","error","getMovieDetails","newData","vote_count","popularity","Math","ceil","original_title","overview","modalMovieCard","renderMovieDetailsPage","movieDetailedCardTemplate","isInQueue","checkIfIsInUserLibrary","checkIfInQueue","updateUserQueue","markupStudent","photoRed","modal","show","closeModalHandler","close","basicLightbox"],"mappings":"uGAAAA,EAAOC,QAAU,IAA0B,wB,qBCA3C,IAAIC,EAAa,EAAQ,QAEzBF,EAAOC,SAAWC,EAAoB,SAAKA,GAAYC,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,MAAO,0EACLJ,EAAUK,iBAAiBL,EAAUM,OAAOL,EAAQA,IACpD,eACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIG,EAAQC,EAAQC,EAAiB,MAAVR,EAAiBA,EAAUD,EAAUU,aAAe,GAAKC,EAAOX,EAAUY,MAAMC,cAAeC,EAAO,WAAYC,EAAOf,EAAUK,iBAAkBW,EAAiBhB,EAAUgB,gBAAkB,SAASC,EAAQC,GAC1O,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,oIACHH,SAASP,EAAiI,OAAvHA,EAASQ,EAAed,EAAQ,iBAA6B,MAAVD,EAAiBe,EAAef,EAAO,eAAiBA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,cAAc,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASI,GACrU,UACAO,SAASP,EAAqH,OAA3GA,EAASQ,EAAed,EAAQ,WAAuB,MAAVD,EAAiBe,EAAef,EAAO,SAAWA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,QAAUI,GACpT,4FACAO,SAASP,EAAqH,OAA3GA,EAASQ,EAAed,EAAQ,WAAuB,MAAVD,EAAiBe,EAAef,EAAO,SAAWA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASI,GACnT,mIACAO,SAASP,EAAmI,OAAzHA,EAASQ,EAAed,EAAQ,kBAA8B,MAAVD,EAAiBe,EAAef,EAAO,gBAAkBA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASI,GACxU,sEACAO,SAASP,EAA+H,OAArHA,EAASQ,EAAed,EAAQ,gBAA4B,MAAVD,EAAiBe,EAAef,EAAO,cAAgBA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASI,GAClU,gKACAO,SAASP,EAA+H,OAArHA,EAASQ,EAAed,EAAQ,gBAA4B,MAAVD,EAAiBe,EAAef,EAAO,cAAgBA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASI,GACpU,4KACAO,SAASP,EAAuI,OAA7HA,EAASQ,EAAed,EAAQ,oBAAgC,MAAVD,EAAiBe,EAAef,EAAO,kBAAoBA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,iBAAiB,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASI,GAChV,8PAC+R,OAA7RD,EAASS,EAAed,EAAQ,QAAQoB,KAAKb,EAAkB,MAAVR,EAAiBe,EAAef,EAAO,UAAYA,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUuB,QAAQ,EAAGnB,EAAM,GAAG,QAAUJ,EAAUwB,KAAK,KAAOpB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,QAAkBG,EAAS,IAC/S,0KACAQ,SAASP,EAA2H,OAAjHA,EAASQ,EAAed,EAAQ,cAA0B,MAAVD,EAAiBe,EAAef,EAAO,YAAcA,IAAmBO,EAASG,KAA2BG,EAASN,EAAOc,KAAKb,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOL,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASI,GAC9T,0ZACJ,SAAU,K,uDChBGiB,EAjBF,CACXC,wBADW,WAET,OAAOC,SAASC,cAAc,gCAEhCC,aAAcF,SAASC,cAAc,kBACrCE,OAAQH,SAASC,cAAc,wBAC/BG,KAAMJ,SAASC,cAAc,mBAC7BI,SAAUL,SAASC,cAAc,mCACjCK,QAASN,SAASC,cAAc,eAChCM,aAAcP,SAASC,cAAc,8BACrCO,cAAeR,SAASC,cAAc,+BACtCQ,SAAUT,SAASC,cAAc,gBACjCS,aAAcV,SAASC,cAAc,sBACrCU,SAAUX,SAASC,cAAc,wBACjCW,oBAAqBZ,SAASC,cAAc,gBCK/BY,G,wHAnBS,CACtBC,WAAY,ocAQZC,gBAAiB,mVAOjBC,YAAa,yDCKAC,EArBG,CAClB,CAAEC,GAAI,GAAIC,KAAM,UAChB,CAACD,GAAI,GAAIC,KAAM,aACf,CAACD,GAAI,GAAIC,KAAM,aACf,CAACD,GAAI,GAAIC,KAAM,UACf,CAACD,GAAI,GAAIC,KAAM,SACf,CAACD,GAAI,GAAIC,KAAM,eACf,CAACD,GAAI,GAAIC,KAAM,SACf,CAACD,GAAI,MAAOC,KAAM,UAClB,CAACD,GAAI,GAAIC,KAAM,WACf,CAACD,GAAI,GAAIC,KAAM,WACf,CAACD,GAAI,GAAIC,KAAM,UACf,CAACD,GAAI,MAAOC,KAAM,SAClB,CAACD,GAAI,KAAMC,KAAM,WACjB,CAACD,GAAI,MAAOC,KAAM,WAClB,CAACD,GAAI,IAAKC,KAAM,mBAChB,CAACD,GAAI,MAAOC,KAAM,YAClB,CAACD,GAAI,GAAIC,KAAM,YACf,CAACD,GAAI,MAAOC,KAAM,OAClB,CAAED,GAAI,GAAIC,KAAM,Y,iCCnBVC,EAAapB,SAASC,cAAc,eAE1C,SAASoB,IACPD,EAAWE,UAAUC,IAAI,WAG3B,SAASC,IACPJ,EAAWE,UAAUG,OAAO,WCP9B,IAyBeC,EAzBI,CACjBC,MAAO,GACPC,KAAM,EAENC,SAJiB,SAIRC,GACPC,KAAKJ,MAAQG,GAGfE,QARiB,SAQTF,GACNC,KAAKH,KAAOE,GAGdG,cAZiB,WAafF,KAAKH,MAAQ,GAGfM,cAhBiB,WAiBfH,KAAKH,MAAQ,GAGfO,UApBiB,WAqBfJ,KAAKH,KAAO,IChBV9B,EAAO,CACXI,aAAcF,SAASC,cAAc,kBACrCW,oBAAqBZ,SAASC,cAAc,gBAG9C,SAASmC,EAAcC,GACrB,IAAMC,EAAU,CACdC,WAAYF,EACZG,aAAc,GACdC,aAAc,EACdb,KAAM,EACNc,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBxE,SAAU,CACRwD,KAAM,gDACNiB,YACE,iEACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,sGAMN,IAAIC,IAAW,aAAcX,GAG/B,SAASY,EAAgBb,GACvBvC,EAAKc,oBAAoBuC,iBACvB,SAIF,SAA0CC,GACxC,GAA8B,MAA1BA,EAAMC,OAAOC,SACf,OAGFxD,EAAKI,aAAaqD,UAAY,GAE9BlC,IAEA,IAAMmC,EAASJ,EAAMC,OAKrB,OAAQG,EAAOC,WACb,IAAK,eAIH,OAHA/B,EAAWM,QAAQ0B,OAAOF,EAAOG,mBAEjCC,IAAqBC,QAAQrC,GAG/B,IAAK,wBAIH,OAHAE,EAAWQ,qBAEX0B,IAAqBC,QAAQrC,GAG/B,IAAK,wBAIH,OAHAE,EAAWO,qBAEX2B,IAAqBC,QAAQrC,GAG/B,IAAK,yBAIH,OAHAE,EAAWS,iBAEXyB,IAAqBC,QAAQrC,GAG/B,IAAK,wBAIH,OAHAE,EAAWM,QAAQK,EAAqB,SAExCuB,IAAqBC,QAAQrC,GAG/B,IAAK,+BAIH,OAHAE,EAAWS,iBAEXyB,IAAqBC,QAAQrC,GAG/B,IAAK,iDACH,IAAMsC,EAAgB9D,SAASC,cAAc,oBAI7C,OAHAyB,EAAWM,QAAQ0B,OAAOI,EAAcH,mBAExCC,IAAqBC,QAAQrC,GAG/B,IAAK,gDACH,IAAMuC,EAAgB/D,SAASC,cAAc,oBAI7C,OAHAyB,EAAWM,QAAQ0B,OAAOK,EAAcJ,mBAExCC,IAAqBC,QAAQrC,GAG/B,QACEwC,QAAQC,IAAI,W,4ECrGpB,SAASC,IACPC,OAAOC,oBAAoB,UAAWC,GACtCrE,SAASsE,KAAKhD,UAAUG,OAAO,cASjC,SAAS4C,EAAcjB,GACA,WACJA,EAAMmB,MAGrBL,IA1BJpE,EAAKS,aAAa4C,iBAAiB,SAInC,WACEgB,OAAOhB,iBAAiB,UAAWkB,GACnCvE,EAAKW,SAASa,UAAUG,OAAO,aAC/BzB,SAASsE,KAAKhD,UAAUC,IAAI,iBAN5BzB,EAAKU,cAAc2C,iBAAiB,QAASe,GAC7CpE,EAAKW,SAAS0C,iBAAiB,SAajC,SAAyBC,GACnBA,EAAMoB,gBAAkBpB,EAAMC,QAChCa,OCDJO,IAASC,cAVc,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,YACE,yEACFC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,8CAGT,IAAMC,EAAK,IAAIC,WAAWC,KAAKC,OAAOZ,IAASW,QAG/C,IAAIX,IAASW,KAAKE,kBAGX,IAAMC,EAAoBd,IAASe,WAAWC,IAAI,SAC9CC,EAAgB,GAC3B1B,QAAQC,IAAIyB,GAEZ,IAAMC,EAAW,CACfC,WAAY,QACZC,cAAe,CACbpB,IAASW,KAAKE,kBAAkBQ,YAChCrB,IAASW,KAAKW,mBAAmBD,YACjCrB,IAASW,KAAKY,kBAAkBF,YAChCX,WAAWC,KAAKa,sBAAsBH,aAExCI,UAAW,CACTC,4BAA6B,SAAUC,GACrC,GAAIA,EAIF,OAHAC,SAASC,SAETC,EAAYC,aAAaC,MAClB,KA6Cf,SAASF,EAAYG,GACnB,IAAMC,EAAc,CAClBD,OAAQA,EACRE,YAAa,GACbC,UAAW,IAEPC,EAAU,GAEhB,OADAA,EAAQ,SAAWJ,GAAUC,EACtBlC,IAASe,WAAWC,MAAMsB,OAAOD,GAhD1ChH,EAAKY,aAAayC,iBAAiB,SAAS,SAAA6D,GAC1CvC,IAASW,OAAO6B,UAChBC,aAAaC,WAAW,iBACxBhD,OAAOkC,SAASC,YAIlB7B,IAASW,OAAOgC,oBAAmB,SAAAZ,GACjC,GAAIA,EAAc,CAChB,IAAIa,EAAcb,EAAaa,YACX,OAAhBA,IACFA,EAAc,SAEhBvH,EAAKa,SAAS4C,UAAd,GAA6B8D,EAC7BrH,SAASsE,KAAKhD,UAAUG,OAAO,cAiBjC3B,EAAKY,aAAaY,UAAUG,OAAO,aACnC3B,EAAKS,aAAae,UAAUC,IAAI,aAhB9B2F,aAAaI,QAAQ,gBAAiBC,KAAKC,UAAUhB,EAAaC,MAClEf,EAAgB6B,KAAKE,MAAMP,aAAaQ,QAAQ,kBAChD1D,QAAQC,IAAIyB,GAEPiC,EAA2BjC,IAC9Ba,EAAYb,QAGd5F,EAAKa,SAAS4C,UAAY,GAY5BzD,EAAKS,aAAae,UAAUG,OAAO,aACnC3B,EAAKY,aAAaY,UAAUC,IAAI,aAjEZ2D,EAAG0C,MAAM,6BAA8BjC,M,mCCoBtD,SAASkC,EAAkBC,GAChC,IAAIC,EAAWJ,EAA2BjC,GAC1C,GAAKqC,EAAL,CAKA,GAAIA,EAASnB,YAAa,CAMxB,GALKmB,EAASlB,YACZkB,EAASlB,UAAY,GACrBmB,EAAmBtC,EAAeqC,IAGhCjI,EAAKmI,gBAAgB3G,UAAU4G,SAAS,oBAAqB,CAC/D,IAAIC,EAAaJ,EAASnB,YAAYwB,WACpC,SAAAC,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAOlC,OALA4G,EAAUQ,aAAc,EACxBP,EAASnB,YAAY2B,OAAOJ,EAAY,GACxCH,EAAmBtC,EAAeqC,GAsNtCjI,EAAKmI,gBAAgBtE,YAAc,iBACnC7D,EAAKmI,gBAAgB3G,UAAUG,OAAO,oBArNlC+G,IAAM,QAAY,kCACXT,EAASnB,YAEhB,IAAM6B,EAAcV,EAASnB,YAAY8B,MAAK,SAAUL,GACtD,OAAOA,EAAMnH,KAAO4G,EAAU5G,MAEhC,OAAIuH,GACFD,IAAM,QAAY,qCACXT,EAASnB,cACN6B,IACVX,EAAUQ,aAAc,EACxBP,EAASnB,YAAY+B,KAAKb,GAC1BE,EAAmBtC,EAAeqC,GAClCS,IAAM,QAAY,8BAClBI,KAGKb,EAASnB,aAGlBkB,EAAUQ,aAAc,EACxBP,EAASnB,YAAc,GACvBmB,EAASnB,YAAY+B,KAAKb,GAErBC,EAASlB,YACZkB,EAASlB,UAAY,IAIrBmB,EAAmBtC,EAAeqC,GAEpCS,IAAM,QAAY,8BAClBI,SAlDAJ,IAAM,MAAU,kCAgKpB,SAASF,EAAYR,GACnB,IAAIC,EAAWJ,EAA2BjC,GAE1C,GAAIqC,EAASnB,YAAa,CACxB,IAAM6B,EAAcV,EAASnB,YAAY8B,MAAK,SAAUL,GACtD,OAAOA,EAAMnH,KAAO4G,EAAU5G,MAGhC,OADA8C,QAAQC,IAAIwE,GACLA,EAEP,OAAO,EAMJ,SAASd,EAA2BjB,GACzC,IAAImC,EAAW,GAKf,OAJAtD,EAAkBuD,GAAG,SAAS,SAAAC,GAC5BF,EAAWE,EAAKC,MAAL,GAActC,GACzB1C,QAAQC,IAAI4E,MAEPA,EAIF,SAASI,EAA2BvC,GACzC,GAAKA,EAAL,CAGA,IAAIE,EAAc,GAKlB,OAJArB,EAAkBuD,GAAG,SAAS,SAAAC,GAC5BnC,EAAcmC,EAAKC,MAAL,GAActC,GAAd,eAGTE,GAIF,SAASsC,EAAyBxC,GACvC,GAAKA,EAAL,CAGA,IAAIG,EAAY,GAKhB,OAJAtB,EAAkBuD,GAAG,SAAS,SAAAC,GAC5BlC,EAAYkC,EAAKC,MAAL,GAActC,GAAd,aAGPG,GAIT,SAASmB,EAAmBtB,EAAQqB,GAClC,IAAMpB,EAAc,CAClBD,OAAQA,EACRE,YAAamB,EAASnB,YACtBC,UAAWkB,EAASlB,WAEhBC,EAAU,GAEhB,OADAA,EAAQ,SAAWJ,GAAUC,EACtBlC,IAASe,WAAWC,MAAMsB,OAAOD,GAI1C,SAAS8B,IACP9I,EAAKmI,gBAAgBtE,YAAc,mBACnC7D,EAAKmI,gBAAgB3G,UAAUC,IAAI,oBAQrC,SAAS4H,IACPrJ,EAAKsJ,cAAczF,YAAc,oBACjC7D,EAAKsJ,cAAc9H,UAAUC,IAAI,kBAGnC,SAAS8H,IACPvJ,EAAKsJ,cAAczF,YAAc,eACjC7D,EAAKsJ,cAAc9H,UAAUG,OAAO,kBAnRtC+G,IAAOlG,QAAU,CACfgH,aAAa,EACbC,OAAO,EACPC,aAAa,EACbC,aAAa,EACbC,cAAe,qBACfC,mBAAmB,EACnBC,QAAS,KACTC,aAAc,MACdC,aAAc,MACdC,QAAS,OACTC,gBAAiB,OACjBC,WAAY,QACZC,WAAY,SACZC,WAAY,SACZC,WAAY,WAUd7E,EAAkBuD,GAAG,SAAS,SAAAC,GAC5B,IAAMsB,EAAYtB,EAAKC,MACvBhF,QAAQC,IAAIoG,MCzBd,IAWwBC,EAXlBxK,EAAO,CACXK,OAAQH,SAASC,cAAc,wBAC/BC,aAAcF,SAASC,cAAc,kBACrCsK,WAAYvK,SAASC,cAAc,yCACnCW,oBAAqBZ,SAASC,cAAc,eAC5CI,SAAUL,SAASC,cAAc,oCAanC,SAASuK,EAAmBF,GAC1BxK,EAAKK,OAAOoD,UAAY,GACxBzD,EAAKK,OAAOsK,mBAAmB,YAAaH,GAC5CxK,EAAKyK,WAAWpH,iBAAiB,QAASuH,GAY5C,SAAS9G,IACP,OAeO+G,MACFC,iGAA+ClJ,EAAWE,MAC7DiJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAjBPF,MAAK,YAAgC,IAA7BG,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,cAUpC,OANyBD,EAmBrBE,KAAI,YAAyD,IAAtDhK,EAAsD,EAAtDA,GAAIiK,EAAkD,EAAlDA,YAAaC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UAI3CC,EAHiBC,EAAOC,QAAO,SAAAC,GAAK,OAAIJ,EAAUK,SAASD,EAAMxK,OAGpCgK,KAAI,qBAAG/J,QAGtCyK,EAAoB,GAEpBL,EAAYM,OAAS,EACvBD,EAAoBL,GAEpBK,EAAoBL,EAAYO,MAAM,EAAG,IACvBnD,KAAK,SAIzB,IAAMoD,EAAS,6CACuB7K,EAD1B,6FAI0BiK,EAJ1B,gBAKJC,EALI,8DAOwBA,EAAMY,cAP9B,8CAQuBJ,EAAkBK,KAAK,MAR9C,MASVZ,EAAaa,MAAM,KAAK,GATd,gBAcZpM,EAAKI,aAAauK,mBAAmB,YAAasB,MAhDrC,CACX1J,mBAAoB4I,MAoD1B,SAASP,EAAmBtH,GAC1BA,EAAM+I,iBACNrM,EAAKO,SAASiB,UAAUG,OAAO,WAC/B3B,EAAKyK,WAAWjJ,UAAUC,IAAI,WAC9B,IAAM6K,EAAenD,EAA2BvD,GAC1C2G,EAAcnD,EAAyBxD,GAC7C8E,EAAmB3J,EAAgBE,iBAE/Bf,SAASC,cAAc,WACzBD,SAASC,cAAc,UAAUwB,SAGnC,IAAM6K,EAAatM,SAASC,cAAc,0BACpCsM,EAAWvM,SAASC,cAAc,wBAMxC,SAASuM,EAAsBC,EAAWC,EAAaC,GACrDF,EAAUtJ,iBAAiB,SAAS,SAAAC,GAClCA,EAAM+I,iBACNS,EAAyBD,GACzBD,EAAYpL,UAAUG,OAAO,iBAC7BgL,EAAUnL,UAAUC,IAAI,oBAO5B,SAASqL,EAAyBC,GAChC,GAAKA,EAQL/M,EAAKI,aAAaqD,UAAY,GAC9BsJ,EAAkB3B,KAChB,YAAoE,IAAjEhK,EAAiE,EAAjEA,GAAIiK,EAA6D,EAA7DA,YAAaC,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,aAAcG,EAA2B,EAA3BA,OAAQsB,EAAmB,EAAnBA,aACzCf,EAAS,6CACmB7K,EADtB,6FAIsBiK,EAJtB,gBAKRC,EALQ,8DAOoBA,EAAMY,cAP1B,8CAQmBR,EAAOS,KAC1C,MATgB,MAUXZ,EAVW,iDAUkDyB,EAVlD,uBAaZhN,EAAKI,aAAauK,mBAAmB,YAAasB,UAxBtD,CACEjM,EAAKI,aAAaqD,UAAY,GAG9BzD,EAAKI,aAAauK,mBAAmB,YADnC,iGApBN3K,EAAKI,aAAaqD,UAAY,GAC9BzD,EAAKc,oBAAoBmM,MAAMC,QAAU,OACzCJ,EAAyBR,GAWzBI,EAAsBD,EAAUD,EAAYD,GAC5CG,EAAsBF,EAAYC,EAAUH,GA/GtB9B,EAkJTzJ,EAAgBC,WAjJ7BY,EAAWS,YACXd,IACAmJ,EAAmBF,GAWZ1G,IAAqBiH,MAAK,YAA4B,IAAzBxI,EAAyB,EAAzBA,mBAGlCD,EAAcC,GACda,EAAgBb,MAdF4K,MAAMjJ,QAAQC,KAAKJ,QAAQrC,GAgJ9BoC,QCrKT9D,EAAO,CACXI,aAAcF,SAASC,cAAc,kBACrCiN,WAAYlN,SAASC,cAAc,gBACnCkN,OAAQnN,SAASC,cAAc,gCAMjC,SAASmN,EAAuBhK,GAC5BA,EAAM+I,iBAENzK,EAAWS,YAGXrC,EAAKqN,OAAO7L,UAAUC,IAAI,aAE1B,IAAM8L,EAAOjK,EAAMoB,cACb8I,EAAQD,EAAKE,SAAS5L,MAE5B,GAAoB,KAAhB2L,EAAMxL,MAKR,OAJAhC,EAAKqN,OAAO7L,UAAUG,OAAO,kBAC7B3B,EAAKqN,OAAOxJ,YACV,yDAKJjC,EAAWG,SAASyL,EAAMxL,OAG1BT,IAyCKsJ,MACFC,0GAAwDlJ,EAAWE,KAD5D,8BAC8FF,EAAWC,OACnHkJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UA3BEF,MAAK,YAAgC,IAA7BG,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,cAI7C,OAAuB,IAAnBD,EAAQa,QACV/L,EAAKqN,OAAO7L,UAAUG,OAAO,kBAC7B3B,EAAKqN,OAAOxJ,YACV,sEAKJ7D,EAAKI,aAAaqD,UAAY,GAELyH,EAmBrBE,KAAI,YAAyD,IAAtDhK,EAAsD,EAAtDA,GAAIiK,EAAkD,EAAlDA,YAAaC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UAI3CC,EAHiBC,EAAOC,QAAO,SAAAC,GAAK,OAAIJ,EAAUK,SAASD,EAAMxK,OAGpCgK,KAAI,qBAAG/J,QAGtCyK,EAAoB,GAEpBL,EAAYM,OAAS,EACvBD,EAAoBL,GAEpBK,EAAoBL,EAAYO,MAAM,EAAG,IACvBnD,KAAK,SAIzB,IAAMoD,EAAS,6CACuB7K,EAD1B,6FAI0BiK,EAJ1B,gBAKJC,EALI,8DAOwBA,EAAMY,cAP9B,8CAQuBJ,EAAkBK,KAAK,MAR9C,MASVZ,EAAaa,MAAM,KAAK,GATd,gBAcZpM,EAAKI,aAAauK,mBAAmB,YAAasB,MAhDrC,CACX1J,mBAAoB4I,OA1BIJ,MAAK,YAA4B,IAAzBxI,EAAyB,EAAzBA,mBAGlCD,EAAcC,GACda,EAAgBb,MAVA4K,MAAMjJ,QAAQC,KAAKJ,QAAQrC,GAE7C6L,EAAKG,QAiFP1N,EAAKoN,WAAW/J,iBAAiB,SAAUiK,GAC5BA,Q,qBCzGTzI,EAAS,mCAEX8I,EAAU,EACV5K,EAAc,EACd6K,EAAa,GACbC,EAAa,GACblB,EAAY,GAoGhB,SAASmB,IAkBP,GAjBA9N,EAAKK,OAAOoD,UAAY,GACxBvD,SAASC,cAAc,UAAUwB,SACjC3B,EAAK+N,iBAAiBd,MAAMC,QAAU,OAEnB,SAAfW,IACF7N,EAAKK,OAAOsK,mBAAmB,YAAa5J,EAAgBC,YAC5DhB,EAAKoN,WAAalN,SAASC,cAAc,gBACzCH,EAAKoN,WAAW/J,iBAAiB,SAAUiK,GAExB,KAAfM,EAmER,SAAkC7K,EAAa2I,EAAQkC,IAYvD,SAAwB7K,EAAa6K,GACnC,OAAO/C,MAAM,qDAC0ChG,EAD3C,yBAC0E+I,EAD1E,SAC6F7K,EAD7F,wBAEVgI,MAAK,SAAAiD,GAAG,OAAIA,EAAI/C,WAdXgD,CAAelL,EAAa6K,GAAY7C,MAC7C,YAAgC,IAA7BG,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,cAMV,OAUN,SAAkC0B,EAAOnB,GACvCmB,EAAMzB,KAAI,YAAyD,IAAtDhK,EAAsD,EAAtDA,GAAIiK,EAAkD,EAAlDA,YAAaC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UAG3CC,EAFiBC,EAAOC,QAAO,SAAAC,GAAK,OAAIJ,EAAUK,SAASD,EAAMxK,OAEpCgK,KAAI,qBAAG/J,QAEtCyK,EAAoB,GAEpBL,EAAYM,OAAS,EACvBD,EAAoBL,GAEpBK,EAAoBL,EAAYO,MAAM,EAAG,IACvBnD,KAAK,SAEzB,IAAMoD,EAAS,6CACuB7K,EAD1B,6FAI0BiK,EAJ1B,gBAKJC,EALI,8DAOwBA,EAAMY,cAP9B,8CAQuBJ,EAAkBK,KAAK,MAR9C,MASVZ,EAAaa,MAAM,KAAK,GATd,gBAcZpM,EAAK+N,iBAAiBpD,mBAAmB,YAAasB,MA3CpDiC,CAAyBhD,EAASQ,GACrB,CACXnJ,mBAAoB4I,MAvEtBgD,CAAyBpL,EAAa2I,EAAQkC,GAE9C9J,EAAmBf,EAAa2I,GAElC1L,EAAKoO,WAAWnB,MAAMC,QAAU,SAGf,eAAfW,EAA6B,CAC/B7N,EAAKK,OAAOsK,mBACV,YACA5J,EAAgBE,iBAElB,IAAMoN,EAA0BlF,EAA2BvD,GACrD0I,EAAwBlF,EAAyBxD,GAEvD5F,EAAKwM,WAAatM,SAASC,cAAc,0BACzCH,EAAKyM,SAAWvM,SAASC,cAAc,wBAErB,YAAdwM,EACF4B,GAAcF,IAEdE,GAAcD,GACdtO,EAAKwM,WAAWhL,UAAUG,OAAO,iBACjC3B,EAAKyM,SAASjL,UAAUC,IAAI,kBAG9BzB,EAAKwM,WAAWhL,UAAUG,OAAO,iBACjC3B,EAAKyM,SAASjL,UAAUC,IAAI,iBAE5BzB,EAAKwM,WAAatM,SAASC,cAAc,0BACzCH,EAAKyM,SAAWvM,SAASC,cAAc,wBAEvCuM,GACE1M,EAAKyM,SACLzM,EAAKwM,WACL8B,GAEF5B,GACE1M,EAAKwM,WACLxM,EAAKyM,SACL4B,IAON,SAASG,EAAWlL,GACC,WAAfA,EAAMmB,OACRqJ,IACAzJ,OAAOC,oBAAoB,UAAWkK,IAI1C,SAASC,EAAanL,GACpB,OAAQA,EAAMC,QACZ,KAAKvD,EAAKmI,gBACV,KAAKnI,EAAKsJ,cACR,MACF,QACEwE,IACA9N,EAAK0O,KAAKpK,oBAAoB,QAASmK,IAuD7C,SAAS/B,GAAsBC,EAAWC,EAAaC,GACrDF,EAAUtJ,iBAAiB,SAAS,SAAAC,GAClCA,EAAM+I,iBACNrM,EAAK+N,iBAAiBtK,UAAY,GAClC8K,GAAc1B,GACdD,EAAYpL,UAAUG,OAAO,iBAC7BgL,EAAUnL,UAAUC,IAAI,oBAI5B,SAAS8M,GAAc1B,GACrBA,EAAMzB,KACJ,YAAoE,IAAjEhK,EAAiE,EAAjEA,GAAIiK,EAA6D,EAA7DA,YAAaC,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,aAAcG,EAA2B,EAA3BA,OAAQsB,EAAmB,EAAnBA,aACzCf,EAAS,6CACqB7K,EADxB,6FAIwBiK,EAJxB,gBAKNC,EALM,8DAOsBA,EAAMY,cAP5B,8CAQqBR,EAAOS,KAC1C,MATc,MAUTZ,EAVS,iDAUoDyB,EAVpD,uBAcZhN,EAAK+N,iBAAiBpD,mBAAmB,YAAasB,MA5P5DjM,EAAK2O,kBAAoBzO,SAASC,cAAc,6BAChDH,EAAKK,OAASH,SAASC,cAAc,wBACrCH,EAAK0O,KAAOxO,SAASC,cAAc,QACnCH,EAAK+N,iBAAmB7N,SAASC,cAAc,kBAC/CH,EAAKoO,WAAalO,SAASC,cAAc,eAEzCH,EAAK2O,kBAAkBtL,iBAAiB,UAcxC,SAAuBC,GAErB,OADAsK,EAAatK,EAAMC,OAAOvB,SAd5BhC,EAAK+N,iBAAiB1K,iBAAiB,SAkBvC,SAA4BC,GAG1B,GAnBF,WACEuK,EAAa3N,SAASC,cAAc,YAAY0D,YAChDd,EAAca,OAAO1D,SAASC,cAAc,oBAAoB0D,aAE7C,eAAfgK,IACF7N,EAAK2M,UAAYzM,SAASC,cAAc,kBACxCwM,EAAY3M,EAAK2M,UAAU9I,aAW7B+K,GAEyC,OAArCtL,EAAMC,OAAOsL,WAAWrL,SAC1B,OAGFmK,EAAUrK,EAAMC,OAAOsL,WAAWC,QAAQ1N,GAC1CpB,EAAKQ,QAAQgB,UAAUC,IAAI,WA+C7B,SAAyBsN,EAASlK,EAAQ8I,GACxC,OAAO9C,MAAM,GAAGkE,EAAUpB,EAAd,YAAiC9I,EAAjC,mBACTkG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BkC,OAAM,SAAA6B,GACL,MAAMA,KAlDVC,CAzCc,sCAyCWpK,EAAQ8I,GAC9B5C,MAAK,SAAApM,GACJ,IAAMuQ,EAAU,CACd9N,GAAIzC,EAAKyC,GACTiK,YAAa1M,EAAK0M,YAClBC,MAAO3M,EAAK2M,MACZ0B,aAAcrO,EAAKqO,aACnBmC,WAAYxQ,EAAKwQ,WACjBC,WAAYC,KAAKC,KAAuB,GAAlB3Q,EAAKyQ,YAAmB,GAC9CG,eAAgB5Q,EAAK4Q,eACrBC,SAAU7Q,EAAK6Q,SACf9D,OAAQ/M,EAAK+M,OAAOM,MAAM,EAAG,GAAGZ,KAAI,qBAAG/J,QACvCkK,aAAc5M,EAAK4M,aAAaa,MAAM,KAAK,IAEzCzN,EAAK+M,OAAOK,OAAS,GACvBmD,EAAQxD,OAAO7C,KAAK,SAuC5B,SAAgC4G,GAE9BzP,EAAKK,OAAOoD,UAAY,GACxBzD,EAAK+N,iBAAiBtK,UAAY,GAElCzD,EAAKoO,WAAWnB,MAAMC,QAAU,OAChClN,EAAKK,OAAOsK,mBAAmB,YAAa5J,EAAgBG,aAC5DlB,EAAK0O,KAAK/D,mBAAmB,aAAc8E,GA1CvCC,CADuBC,IAA0BT,IAGjD7K,OAAOhB,iBAAiB,UAAWmL,GACnCxO,EAAK0O,KAAKrL,iBAAiB,QAASoL,GAGpCzO,EAAKmI,gBAAkBjI,SAASC,cAAc,sBAC9CH,EAAKsJ,cAAgBpJ,SAASC,cAAc,oBH4M3C,SAAgC6H,GACrC,IAAIC,EAAWJ,EAA2BjC,GAE1C,GAAKqC,EAAL,CAKA,GAAIA,EAASnB,YAKX,GAJoBmB,EAASnB,YAAY8B,MACvC,SAAAL,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAGjB,CACf,IAAIiH,EAAaJ,EAASnB,YAAYwB,WACpC,SAAAC,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAElC8C,QAAQC,IAAIkE,GACRJ,EAASnB,YAAYuB,GAAYG,aACnCM,IAKN,GAAIb,EAASlB,UAAW,CACtB,IAAM4B,EAAcV,EAASlB,UAAU6B,MACrC,SAAAL,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAGlC,GADA8C,QAAQC,IAAIwE,GACRA,EAAa,CACf,IAAIN,EAAaJ,EAASlB,UAAUuB,WAClC,SAAAC,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAElC8C,QAAQC,IAAIkE,GACRJ,EAASlB,UAAUsB,GAAYuH,WACjCvG,WA/BJX,IAAM,MAAU,kCG/MdmH,CAAuBX,GAGvBlP,EAAKmI,gBAAgB9E,iBAAiB,SAAS,SAAA6D,IHoF9C,SAAwBc,GAC7B,IAAIC,EAAWJ,EAA2BjC,GAE1C,GAAKqC,GAIDA,EAASlB,YACNkB,EAASnB,cACZmB,EAASnB,YAAc,GACvBoB,EAAmBtC,EAAeqC,IAGhBA,EAASlB,UAAU6B,MAAK,SAAUL,GACpD,OAAOA,EAAMnH,KAAO4G,EAAU5G,OAEf,CACf,IAAIiH,EAAaJ,EAASlB,UAAUuB,WAClC,SAAAC,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAElC4G,EAAU4H,WAAY,EACtB3H,EAASlB,UAAU0B,OAAOJ,EAAY,GACtCkB,IACArF,QAAQC,IAAI,qDACZ+D,EAAmBtC,EAAeqC,IG3GhC6H,CAAeZ,GACfnH,EAAkBmH,MAIpBlP,EAAKsJ,cAAcjG,iBAAiB,SAAS,SAAA6D,IHK5C,SAAyBc,GAC9B,IAAIC,EAAWJ,EAA2BjC,GAC1C,GAAKqC,EAAL,CAMA,IAAIA,EAASlB,UAyCX,OAAIyB,EAAYR,IACd9D,QAAQC,IAAI,qCACZuE,IAAM,QAAY,oCACXT,EAASlB,YAElBkB,EAASlB,UAAY,GACrBiB,EAAU4H,WAAY,EACtB3H,EAASlB,UAAU8B,KAAKb,GAEnBC,EAASnB,cACZmB,EAASlB,UAAY,IAGrBmB,EAAmBtC,EAAeqC,GAGpCS,IAAM,QAAY,uBAElBW,IACOpB,EAASlB,WAvDhB,GAJKkB,EAASnB,cACZmB,EAASnB,YAAc,GACvBoB,EAAmBtC,EAAeqC,IAEhCjI,EAAKsJ,cAAc9H,UAAU4G,SAAS,kBAAmB,CAC3D,IAAIC,EAAaJ,EAASlB,UAAUuB,WAClC,SAAAC,GAAK,OAAIA,EAAMnH,KAAO4G,EAAU5G,MAOlC,OALA4G,EAAU4H,WAAY,EACtB3H,EAASlB,UAAU0B,OAAOJ,EAAY,GACtCH,EAAmBtC,EAAeqC,GAClCsB,IACAb,IAAM,QAAY,2BACXT,EAASlB,UAEhB,GAAIyB,EAAYR,GAGd,OAFA9D,QAAQC,IAAI,qCACZuE,IAAM,QAAY,oCACXT,EAASlB,UAEhB,IAAM4B,EAAcV,EAASlB,UAAU6B,MAAK,SAAUL,GACpD,OAAOA,EAAMnH,KAAO4G,EAAU5G,MAGhC,OAAIuH,GACFzE,QAAQC,IAAI,qCACZuE,IAAM,QAAY,qCACXT,EAASlB,WACN4B,OAAL,GACLX,EAAU4H,WAAY,EACtB3H,EAASlB,UAAU8B,KAAKb,GACxBE,EAAmBtC,EAAeqC,GAClCS,IAAM,QAAY,uBAElBW,IACOpB,EAASlB,WAzCtB2B,IAAM,MAAU,kCGPZqH,CAAgBb,SAGnB/B,OAAM,SAAA6B,GAAK,OAAI9K,QAAQC,IAAI6K,MAC3BjL,SAAQ,WACP/D,EAAKQ,QAAQgB,UAAUG,OAAO,iB,wCCjG9BqO,GAAgB,ovE,QAqFXC,EArFQ,+VAoGD/P,SAASC,cAAc,uBAE/BkD,iBAAiB,SAI3B,SAA0B6D,GACxBgJ,GAAMC,OAEN9L,OAAOhB,iBAAiB,WAExB,SAAS+M,EAAkBlJ,GACV,WAAXA,EAAEzC,OACJyL,GAAMG,QACNhM,OAAOC,oBAAoB,UAAW8L,UAV5C,IAAMF,GAAQI,UAAqBN,M","file":"main.c3adb3189f9a4b44e3aa.js","sourcesContent":["module.exports = __webpack_public_path__ + \"images/photo-red.jpg\";","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\\r\\n                    <span class=\\\"modal-info-genres-text-list-data\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal\\\">\\r\\n    <div class=\\\"modal-container\\\">\\r\\n        <img class=\\\"modal-image\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":69},\"end\":{\"line\":3,\"column\":84}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":91},\"end\":{\"line\":3,\"column\":100}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"modal-info\\\">\\r\\n            <h2 class=\\\"modal-info-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":50}}}) : helper)))\n    + \"</h2>\\r\\n            <p class=\\\"modal-info-vote card-text\\\">\\r\\n                Vote / Votes<span class=\\\"modal-info-vote-average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":66},\"end\":{\"line\":8,\"column\":82}}}) : helper)))\n    + \"</span>/<span\\r\\n                    class=\\\"modal-info-vote-count\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <p class=\\\"modal-info-popularity card-text\\\">\\r\\n                Popularity<span class=\\\"modal-info-popularity-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":67},\"end\":{\"line\":12,\"column\":81}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <p class=\\\"modal-info-title-original card-text\\\">\\r\\n                Original Title<span class=\\\"modal-info-title-original-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":75},\"end\":{\"line\":15,\"column\":93}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <div class=\\\"modal-info-genres\\\">\\r\\n                <p class=\\\"modal-info-genres-text card-text\\\">\\r\\n                    Genre\\r\\n                </p>\\r\\n                <p class=\\\"modal-info-genres-text-list\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":55},\"end\":{\"line\":23,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </p>\\r\\n            </div>\\r\\n            <h3 class=\\\"modal-info-about\\\">About</h3>\\r\\n            <p class=\\\"modal-info-description\\\">\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":16},\"end\":{\"line\":28,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <div class=\\\"modal-info-buttons-list\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"modal-info-buttons-list-item\\\" id=\\\"js-watched-button\\\">Add to\\r\\n                    watched</button>\\r\\n                <button type=\\\"button\\\" class=\\\"modal-info-buttons-list-item\\\" id=\\\"js-queue-button\\\">Add to queue</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","const refs = {\r\n  headerSearchWarningShow() {\r\n    return document.querySelector('#header-search-warning-show');\r\n  },\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  header: document.querySelector('.header-container-js'),\r\n  logo: document.querySelector('.header-logo-js'),\r\n  homeLink: document.querySelector('.navigation-list-item-link-home'),\r\n  spinner: document.querySelector('.js-spinner'),\r\n  openModalBtn: document.querySelector('[data-action=\"open-modal\"]'),\r\n  closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\r\n  backdrop: document.querySelector('.js-backdrop'),\r\n  logOutbutton: document.querySelector('.js-singOut-button'),\r\n  userName: document.querySelector('.js-display-username'),\r\n  paginationContainer: document.querySelector('#pagination'),\r\n};\r\n\r\nexport default refs;\r\n","const headerTemplates = {\r\n  homeHeader: `<div class=\" header home-header header-container\">\r\n  \r\n  <form action=\"\" class=\"header-search-form\" id=\"search-form\">\r\n    <input type=\"text\" name=\"query\" class=\"header-search-form-input\" placeholder=\"Поиск фильмов\">\r\n    <button class=\"header-search-form-btn\" type=\"submit\"></button>\r\n  </form>\r\n  <p id=\"header-search-warning-show\"  class=\"header-search-warning-show is-hidden\">Search result not successful. Enter the correct movie name and</p>\r\n`,\r\n  myLibraryHeader: `<div class=\" header my-library-header header-container\">\r\n  \r\n  <ul class=\"header-button-list\">\r\n    <li class=\"header-button-item\"><button class=\"header-button header-button-watched is-active-btn\">watched</button></li>\r\n    <li class=\"header-button-item\"><button class=\"header-button header-button-queue\">queue</button></li>\r\n  </ul>\r\n`,\r\n  modalHeader: `<div class=\"header modal-header header-container\">\r\n`,\r\n};\r\nexport default headerTemplates;\r\n","const decGenres = [\r\n{ id: 28, name: \"Action\" },\r\n{id: 12, name: \"Adventure\"},\r\n{id: 16, name: \"Animation\"},\r\n{id: 35, name: \"Comedy\"},\r\n{id: 80, name: \"Crime\"},\r\n{id: 99, name: \"Documentary\"},\r\n{id: 18, name: \"Drama\"},\r\n{id: 10751, name: \"Family\"},\r\n{id: 14, name: \"Fantasy\"},\r\n{id: 36, name: \"History\"},\r\n{id: 27, name: \"Horror\"},\r\n{id: 10402, name: \"Music\"},\r\n{id: 9648, name: \"Mystery\"},\r\n{id: 10749, name: \"Romance\"},\r\n{id: 878, name: \"Science Fiction\"},\r\n{id: 10770, name: \"TV Movie\"},\r\n{id: 53, name: \"Thriller\"},\r\n{id: 10752, name: \"War\"},\r\n{ id: 37, name: \"Western\" }]\r\n\r\nexport default decGenres","const spinnerRef = document.querySelector('.js-spinner');\r\n\r\nfunction showSpinner() {\r\n  spinnerRef.classList.add('is-open');\r\n}\r\n\r\nfunction hideSpinner() {\r\n  spinnerRef.classList.remove('is-open');\r\n}\r\n\r\nexport { showSpinner, hideSpinner };\r\n","const apiServise = {\r\n  query: '',\r\n  page: 1,\r\n\r\n  setQuery(value) {\r\n    this.query = value;\r\n  },\r\n\r\n  setPage(value) {\r\n    this.page = value;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  decrementPage() {\r\n    this.page -= 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n\r\nexport default apiServise;\r\n","import Pagination from 'tui-pagination';\r\nimport renderFilmsGallery from './homePageRendering';\r\nimport { showSpinner, hideSpinner } from './spinner';\r\nimport apiServise from './api-servise';\r\n\r\nconst refs = {\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  paginationContainer: document.querySelector('#pagination'),\r\n};\r\n\r\nfunction paginateFilms(totalAmountOfFilms) {\r\n  const options = {\r\n    totalItems: totalAmountOfFilms,\r\n    itemsPerPage: 20,\r\n    visiblePages: 5,\r\n    page: 1,\r\n    centerAlign: false,\r\n    firstItemClassName: 'tui-first-child',\r\n    lastItemClassName: 'tui-last-child',\r\n    template: {\r\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\r\n      currentPage:\r\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\r\n      moveButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\r\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n        '</a>',\r\n      disabledMoveButton:\r\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\r\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n        '</span>',\r\n      moreButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\r\n        '<span class=\"tui-ico-ellip\">...</span>' +\r\n        '</a>',\r\n    },\r\n  };\r\n\r\n  new Pagination('pagination', options);\r\n}\r\n\r\nfunction paginateOnClick(totalAmountOfFilms) {\r\n  refs.paginationContainer.addEventListener(\r\n    'click',\r\n    handleOnPaginationContainerClick,\r\n  );\r\n\r\n  function handleOnPaginationContainerClick(event) {\r\n    if (event.target.nodeName !== 'A') {\r\n      return;\r\n    }\r\n\r\n    refs.filmsGallery.innerHTML = '';\r\n\r\n    showSpinner();\r\n\r\n    const button = event.target;\r\n\r\n    // console.dir(button);\r\n    // console.log('button.className: ', button.className);\r\n\r\n    switch (button.className) {\r\n      case 'tui-page-btn':\r\n        apiServise.setPage(Number(button.textContent));\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-prev':\r\n        apiServise.decrementPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-next':\r\n        apiServise.incrementPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-first':\r\n        apiServise.resetPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-last':\r\n        apiServise.setPage(totalAmountOfFilms / 20);\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-first-child':\r\n        apiServise.resetPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-prev-is-ellip tui-first-child':\r\n        const activeBtnRef1 = document.querySelector('.tui-is-selected');\r\n        apiServise.setPage(Number(activeBtnRef1.textContent));\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-next-is-ellip tui-last-child':\r\n        const activeBtnRef2 = document.querySelector('.tui-is-selected');\r\n        apiServise.setPage(Number(activeBtnRef2.textContent));\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      default:\r\n        console.log('Hi!');\r\n    }\r\n  }\r\n}\r\n\r\nexport { paginateFilms, paginateOnClick };\r\n","import refs from './refs';\r\n\r\nrefs.openModalBtn.addEventListener('click', onOpenModal),\r\n  refs.closeModalBtn.addEventListener('click', onCloseModal),\r\n  refs.backdrop.addEventListener('click', onBackdropClick);\r\n\r\nfunction onOpenModal() {\r\n  window.addEventListener('keydown', onEscKeyPress);\r\n  refs.backdrop.classList.remove('is-hidden');\r\n  document.body.classList.add('show-modal');\r\n}\r\n\r\nfunction onCloseModal() {\r\n  window.removeEventListener('keydown', onEscKeyPress);\r\n  document.body.classList.remove('show-modal');\r\n}\r\n\r\nfunction onBackdropClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction onEscKeyPress(event) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const isEscKey = event.code === ESC_KEY_CODE;\r\n\r\n  if (isEscKey) {\r\n    onCloseModal();\r\n  }\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebaseui';\r\nimport '../../node_modules/firebaseui/dist/firebaseui.css';\r\nimport './modal-login';\r\nimport refs from './refs';\r\nimport { getUserLibraryFromDatabase } from './userLibrary';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyC7TRb9mfyMhzQU-yq3pDKTxl2-zaHwRmo',\r\n  authDomain: 'filmoteka-login.firebaseapp.com',\r\n  databaseURL:\r\n    'https://filmoteka-login-default-rtdb.europe-west1.firebasedatabase.app',\r\n  projectId: 'filmoteka-login',\r\n  storageBucket: 'filmoteka-login.appspot.com',\r\n  messagingSenderId: '658952655924',\r\n  appId: '1:658952655924:web:26304edc0b944079c1e661',\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nconst ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nconst uiStart = () => ui.start('#firebaseui-auth-container', uiConfig);\r\n//phoneAuth\r\nnew firebase.auth.PhoneAuthProvider();\r\n\r\n// =======VARIABLE FOR WORKING WITH USER LIBRARY========\r\nexport const filmotekaDatabase = firebase.database().ref('users');\r\nexport let currentUserId = '';\r\nconsole.log(currentUserId);\r\n\r\nconst uiConfig = {\r\n  signInFlow: 'popup',\r\n  signInOptions: [\r\n    firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n    firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID,\r\n  ],\r\n  callbacks: {\r\n    signInSuccessWithAuthResult: function (authResult) {\r\n      if (authResult) {\r\n        location.reload();\r\n\r\n        setUserData(firebaseUser.uid);\r\n        return true;\r\n      }\r\n    },\r\n  },\r\n};\r\nrefs.logOutbutton.addEventListener('click', e => {\r\n  firebase.auth().signOut();\r\n  localStorage.removeItem('currentUserId');\r\n  window.location.reload();\r\n});\r\n\r\n// login state\r\nfirebase.auth().onAuthStateChanged(firebaseUser => {\r\n  if (firebaseUser) {\r\n    let displayName = firebaseUser.displayName;\r\n    if (displayName === null) {\r\n      displayName = 'guest';\r\n    }\r\n    refs.userName.innerHTML = `${displayName}`;\r\n    document.body.classList.remove('show-modal');\r\n    showLogOutbutton();\r\n    localStorage.setItem('currentUserId', JSON.stringify(firebaseUser.uid));\r\n    currentUserId = JSON.parse(localStorage.getItem('currentUserId'));\r\n    console.log(currentUserId);\r\n\r\n    if (!getUserLibraryFromDatabase(currentUserId)) {\r\n      setUserData(currentUserId);\r\n    }\r\n  } else {\r\n    refs.userName.innerHTML = '';\r\n    showOpenModalBtn();\r\n    uiStart();\r\n  }\r\n});\r\n\r\nfunction showLogOutbutton() {\r\n  refs.logOutbutton.classList.remove('is-hidden');\r\n  refs.openModalBtn.classList.add('is-hidden');\r\n}\r\n\r\nfunction showOpenModalBtn() {\r\n  refs.openModalBtn.classList.remove('is-hidden');\r\n  refs.logOutbutton.classList.add('is-hidden');\r\n}\r\n\r\nfunction setUserData(userId) {\r\n  const userLibrary = {\r\n    userId: userId,\r\n    userWatched: [],\r\n    userQueue: [],\r\n  };\r\n  const updates = {};\r\n  updates['users/' + userId] = userLibrary;\r\n  return firebase.database().ref().update(updates);\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebaseui';\r\nimport 'firebase/database';\r\nimport '../../node_modules/firebaseui/dist/firebaseui.css';\r\nimport refs from './refs';\r\nimport { currentUserId, filmotekaDatabase } from './login-form';\r\n\r\nimport toastr from 'toastr';\r\nimport '../../node_modules/toastr/build/toastr.css';\r\ntoastr.options = {\r\n  closeButton: true,\r\n  debug: false,\r\n  newestOnTop: true,\r\n  progressBar: false,\r\n  positionClass: 'toast-bottom-right',\r\n  preventDuplicates: false,\r\n  onclick: null,\r\n  showDuration: '200',\r\n  hideDuration: '400',\r\n  timeOut: '2000',\r\n  extendedTimeOut: '1000',\r\n  showEasing: 'swing',\r\n  hideEasing: 'linear',\r\n  showMethod: 'fadeIn',\r\n  hideMethod: 'fadeOut',\r\n};\r\n\r\n// ========================VARIABLES==============================\r\n// export let currentUserId = JSON.parse(localStorage.getItem('currentUserId'));\r\n\r\n// let userWatched = getUserWatchedFromDatabase(currentUserId);\r\n// let userQueue = getUserQueueFromDatabase(currentUserId);\r\n\r\n// ==================INITIALAZING DATABASE========================\r\nfilmotekaDatabase.on('value', elem => {\r\n  const usersBase = elem.val();\r\n  console.log(usersBase);\r\n});\r\n\r\n// ==================ADDING TO USER WATCHED LIBRARY===============\r\nexport function updateUserWatched(movieData) {\r\n  let userData = getUserLibraryFromDatabase(currentUserId);\r\n  if (!userData) {\r\n    toastr['error']('Please LOG IN to add the movie');\r\n    return;\r\n  }\r\n\r\n  if (userData.userWatched) {\r\n    if (!userData.userQueue) {\r\n      userData.userQueue = [];\r\n      updateUserDatabase(currentUserId, userData);\r\n      // console.log(userData.userQueue);\r\n    }\r\n    if (refs.addToWatchedBtn.classList.contains('js-is-in-watched')) {\r\n      let movieIndex = userData.userWatched.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      movieData.isInWatched = false;\r\n      userData.userWatched.splice(movieIndex, 1);\r\n      updateUserDatabase(currentUserId, userData);\r\n      changeWatchedBtnToAdd();\r\n      toastr['success']('Removed from your Watched list');\r\n      return userData.userWatched;\r\n    } else {\r\n      const isDublicate = userData.userWatched.some(function (movie) {\r\n        return movie.id === movieData.id;\r\n      });\r\n      if (isDublicate) {\r\n        toastr['warning']('This movie has already been added');\r\n        return userData.userWatched;\r\n      } else if (!isDublicate) {\r\n        movieData.isInWatched = true;\r\n        userData.userWatched.push(movieData);\r\n        updateUserDatabase(currentUserId, userData);\r\n        toastr['success']('Added to your Watched list');\r\n        changeWatchedBtnToRemove();\r\n        return userData.userWatched;\r\n      }\r\n      return userData.userWatched;\r\n    }\r\n  } else {\r\n    movieData.isInWatched = true;\r\n    userData.userWatched = [];\r\n    userData.userWatched.push(movieData);\r\n\r\n    if (!userData.userQueue) {\r\n      userData.userQueue = [];\r\n      updateUserDatabase(currentUserId, userData);\r\n      // console.log(userData.userQueue);\r\n    } else {\r\n      updateUserDatabase(currentUserId, userData);\r\n    }\r\n    toastr['success']('Added to your Watched list');\r\n    changeWatchedBtnToRemove();\r\n  }\r\n  // getUserWatchedFromDatabase(currentUserId);\r\n}\r\n\r\n// ==================ADDING TO USER QUEUE LIBRARY===============\r\nexport function updateUserQueue(movieData) {\r\n  let userData = getUserLibraryFromDatabase(currentUserId);\r\n  if (!userData) {\r\n    toastr['error']('Please LOG IN to add the movie');\r\n    return;\r\n  }\r\n\r\n  // console.log(userData.userQueue);\r\n  if (userData.userQueue) {\r\n    if (!userData.userWatched) {\r\n      userData.userWatched = [];\r\n      updateUserDatabase(currentUserId, userData);\r\n    }\r\n    if (refs.addToQueueBtn.classList.contains('js-is-in-queue')) {\r\n      let movieIndex = userData.userQueue.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      movieData.isInQueue = false;\r\n      userData.userQueue.splice(movieIndex, 1);\r\n      updateUserDatabase(currentUserId, userData);\r\n      changeQueueBtnToAdd();\r\n      toastr['success']('Removed from your Queue');\r\n      return userData.userQueue;\r\n    } else {\r\n      if (isInWatched(movieData)) {\r\n        console.log('you`ve already watched this movie');\r\n        toastr['warning']('You`ve alredy watched this movie');\r\n        return userData.userQueue;\r\n      } else {\r\n        const isDublicate = userData.userQueue.some(function (movie) {\r\n          return movie.id === movieData.id;\r\n        });\r\n\r\n        if (isDublicate) {\r\n          console.log('this movie has already been added');\r\n          toastr['warning']('This movie has already been added');\r\n          return userData.userQueue;\r\n        } else if (!isDublicate) {\r\n          movieData.isInQueue = true;\r\n          userData.userQueue.push(movieData);\r\n          updateUserDatabase(currentUserId, userData);\r\n          toastr['success']('Added to your Queue');\r\n          // изменение текста кнопки\r\n          changeQueueBtnToRemove();\r\n          return userData.userQueue;\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    if (isInWatched(movieData)) {\r\n      console.log('you`ve already watched this movie');\r\n      toastr['warning']('You`ve alredy watched this movie');\r\n      return userData.userQueue;\r\n    }\r\n    userData.userQueue = [];\r\n    movieData.isInQueue = true;\r\n    userData.userQueue.push(movieData);\r\n\r\n    if (!userData.userWatched) {\r\n      userData.userQueue = [];\r\n      updateUserDatabase(currentUserId, userData);\r\n    } else {\r\n      updateUserDatabase(currentUserId, userData);\r\n    }\r\n\r\n    toastr['success']('Added to your Queue');\r\n    // изменение текста кнопки\r\n    changeQueueBtnToRemove();\r\n    return userData.userQueue;\r\n  }\r\n}\r\n\r\n// ===============CHECK IF WATCHED MOVIE IS IN QUEUE. DELETE IF SO=================\r\nexport function checkIfInQueue(movieData) {\r\n  let userData = getUserLibraryFromDatabase(currentUserId);\r\n  // console.log(userData.userQueue);\r\n  if (!userData) {\r\n    return;\r\n  }\r\n\r\n  if (userData.userQueue) {\r\n    if (!userData.userWatched) {\r\n      userData.userWatched = [];\r\n      updateUserDatabase(currentUserId, userData);\r\n    }\r\n\r\n    const isDublicate = userData.userQueue.some(function (movie) {\r\n      return movie.id === movieData.id;\r\n    });\r\n    if (isDublicate) {\r\n      let movieIndex = userData.userQueue.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      movieData.isInQueue = false;\r\n      userData.userQueue.splice(movieIndex, 1);\r\n      changeQueueBtnToAdd();\r\n      console.log('movie was deleted wrom Queue and added to watched');\r\n      updateUserDatabase(currentUserId, userData);\r\n    }\r\n    // getUserQueueFromDatabase(currentUserId);\r\n  }\r\n}\r\n\r\n// =============IS THIS MOVIE IS ALREADY WATCHED (DO NOT ADD TO QUEUE)=======\r\nfunction isInWatched(movieData) {\r\n  let userData = getUserLibraryFromDatabase(currentUserId);\r\n\r\n  if (userData.userWatched) {\r\n    const isDublicate = userData.userWatched.some(function (movie) {\r\n      return movie.id === movieData.id;\r\n    });\r\n    console.log(isDublicate);\r\n    return isDublicate;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n// ================ DATABASE FUNCTIONS==========================\r\n// GET ALL LIBRARY DATA FROM DATABASE\r\nexport function getUserLibraryFromDatabase(userId) {\r\n  let userBase = {};\r\n  filmotekaDatabase.on('value', elem => {\r\n    userBase = elem.val()[`${userId}`];\r\n    console.log(userBase);\r\n  });\r\n  return userBase;\r\n}\r\n\r\n// GET USERWATCHED DATA FROM DATABASE\r\nexport function getUserWatchedFromDatabase(userId) {\r\n  if (!userId) {\r\n    return;\r\n  }\r\n  let userWatched = [];\r\n  filmotekaDatabase.on('value', elem => {\r\n    userWatched = elem.val()[`${userId}`][`userWatched`];\r\n    // console.log(userWatched);\r\n  });\r\n  return userWatched;\r\n}\r\n\r\n// GET USERQUEUE DATA FROM DATABASE\r\nexport function getUserQueueFromDatabase(userId) {\r\n  if (!userId) {\r\n    return;\r\n  }\r\n  let userQueue = [];\r\n  filmotekaDatabase.on('value', elem => {\r\n    userQueue = elem.val()[`${userId}`][`userQueue`];\r\n    // console.log(userQueue);\r\n  });\r\n  return userQueue;\r\n}\r\n\r\n// UPDATE DATABaSE\r\nfunction updateUserDatabase(userId, userData) {\r\n  const userLibrary = {\r\n    userId: userId,\r\n    userWatched: userData.userWatched,\r\n    userQueue: userData.userQueue,\r\n  };\r\n  const updates = {};\r\n  updates['users/' + userId] = userLibrary;\r\n  return firebase.database().ref().update(updates);\r\n}\r\n\r\n// ==========================BUTTONS HANDLERS===============================\r\nfunction changeWatchedBtnToRemove() {\r\n  refs.addToWatchedBtn.textContent = 'Watched (remove)';\r\n  refs.addToWatchedBtn.classList.add('js-is-in-watched');\r\n}\r\n\r\nfunction changeWatchedBtnToAdd() {\r\n  refs.addToWatchedBtn.textContent = 'Add to Watched';\r\n  refs.addToWatchedBtn.classList.remove('js-is-in-watched');\r\n}\r\n\r\nfunction changeQueueBtnToRemove() {\r\n  refs.addToQueueBtn.textContent = 'In queue (remove)';\r\n  refs.addToQueueBtn.classList.add('js-is-in-queue');\r\n}\r\n\r\nfunction changeQueueBtnToAdd() {\r\n  refs.addToQueueBtn.textContent = 'Add to Queue';\r\n  refs.addToQueueBtn.classList.remove('js-is-in-queue');\r\n}\r\n\r\n// UPDATE BUTTONS IN MOVIECARD IF USER HAS WATCHeD THE MOVIE\r\nexport function checkIfIsInUserLibrary(movieData) {\r\n  let userData = getUserLibraryFromDatabase(currentUserId);\r\n\r\n  if (!userData) {\r\n    toastr['error']('Please LOG IN to add the movie');\r\n    return;\r\n  }\r\n  // CHECK USER WATCHeD\r\n  if (userData.userWatched) {\r\n    const isDublicate = userData.userWatched.some(\r\n      movie => movie.id === movieData.id,\r\n    );\r\n    // console.log(isDublicate);\r\n    if (isDublicate) {\r\n      let movieIndex = userData.userWatched.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      console.log(movieIndex);\r\n      if (userData.userWatched[movieIndex].isInWatched) {\r\n        changeWatchedBtnToRemove();\r\n      }\r\n    }\r\n  }\r\n  // CHECK USER QUEUE\r\n  if (userData.userQueue) {\r\n    const isDublicate = userData.userQueue.some(\r\n      movie => movie.id === movieData.id,\r\n    );\r\n    console.log(isDublicate);\r\n    if (isDublicate) {\r\n      let movieIndex = userData.userQueue.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      console.log(movieIndex);\r\n      if (userData.userQueue[movieIndex].isInQueue) {\r\n        changeQueueBtnToRemove();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import headerTemplates from './components/headers-tpl';\r\nimport genres from './decodingJenres';\r\nimport { paginateFilms, paginateOnClick } from './pagination';\r\nimport { showSpinner, hideSpinner } from './spinner';\r\nimport apiServise from './api-servise';\r\nimport {\r\n  getUserWatchedFromDatabase,\r\n  getUserQueueFromDatabase,\r\n} from './userLibrary';\r\nimport { currentUserId } from './login-form';\r\n\r\nconst refs = {\r\n  header: document.querySelector('.header-container-js'),\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  libraryBtn: document.querySelector('.navigation-list-item-link-my-library'),\r\n  paginationContainer: document.querySelector('#pagination'),\r\n  homeLink: document.querySelector('.navigation-list-item-link-home'),\r\n};\r\n\r\nconst path = 'https://api.themoviedb.org/3';\r\nconst key = 'ffddee44025dd24685ea61d637d56d24';\r\n\r\nfunction renderHomePage(headerTpl) {\r\n  apiServise.resetPage();\r\n  showSpinner();\r\n  updateHeaderMarkup(headerTpl);\r\n  setPagination().catch(console.log).finally(hideSpinner);\r\n}\r\n\r\nfunction updateHeaderMarkup(headerTpl) {\r\n  refs.header.innerHTML = '';\r\n  refs.header.insertAdjacentHTML('beforeend', headerTpl);\r\n  refs.libraryBtn.addEventListener('click', libraryHandleClick);\r\n}\r\n\r\nfunction setPagination() {\r\n  return renderFilmsGallery().then(({ totalAmountOfFilms }) => {\r\n    // console.log('totalAmountOfFilms: ', totalAmountOfFilms);\r\n\r\n    paginateFilms(totalAmountOfFilms);\r\n    paginateOnClick(totalAmountOfFilms);\r\n  });\r\n}\r\n\r\nfunction renderFilmsGallery() {\r\n  return fetchTrends().then(({ results, total_results }) => {\r\n    // console.log('results: ', results);\r\n    // console.log('total_results: ', total_results);\r\n\r\n    updateFilmsGalleryMarkup(results);\r\n\r\n    const data = {\r\n      totalAmountOfFilms: total_results,\r\n    };\r\n\r\n    return data;\r\n  });\r\n}\r\n\r\nfunction fetchTrends() {\r\n  return fetch(\r\n    `${path}/trending/movie/day?api_key=${key}&page=${apiServise.page}`,\r\n  ).then(response => response.json());\r\n}\r\n\r\nfunction updateFilmsGalleryMarkup(films) {\r\n  // console.log('genres: ', genres);\r\n\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n    // console.log('filteredGenres: ', filteredGenres);\r\n\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n    // console.log('mapedGenres: ', mapedGenres);\r\n\r\n    let slicedMapedGenres = [];\r\n\r\n    if (mapedGenres.length < 3) {\r\n      slicedMapedGenres = mapedGenres;\r\n    } else {\r\n      slicedMapedGenres = mapedGenres.slice(0, 2);\r\n      slicedMapedGenres.push('Other');\r\n    }\r\n    // console.log('slicedMapedGenres: ', slicedMapedGenres);\r\n\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${slicedMapedGenres.join(', ')} | ${\r\n      release_date.split('-')[0]\r\n    }</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGallery.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}\r\n\r\n//--------------ОТРИСОВКА БИБЛИОТЕКИ ПОЛЬЗОВАТЕЛЯ----------------\r\nfunction libraryHandleClick(event) {\r\n  event.preventDefault();\r\n  refs.homeLink.classList.remove('current');\r\n  refs.libraryBtn.classList.add('current');\r\n  const watchedFilms = getUserWatchedFromDatabase(currentUserId);\r\n  const queuedFilms = getUserQueueFromDatabase(currentUserId);\r\n  updateHeaderMarkup(headerTemplates.myLibraryHeader);\r\n\r\n  if (document.querySelector('.modal')) {\r\n    document.querySelector('.modal').remove();\r\n  }\r\n\r\n  const watchedBtn = document.querySelector('.header-button-watched');\r\n  const queueBtn = document.querySelector('.header-button-queue');\r\n\r\n  refs.filmsGallery.innerHTML = '';\r\n  refs.paginationContainer.style.display = 'none';\r\n  updateFilmsLibraryMarkup(watchedFilms);\r\n\r\n  function onLibraryButtonsClick(activeBtn, inactiveBtn, films) {\r\n    activeBtn.addEventListener('click', event => {\r\n      event.preventDefault();\r\n      updateFilmsLibraryMarkup(films);\r\n      inactiveBtn.classList.remove('is-active-btn');\r\n      activeBtn.classList.add('is-active-btn');\r\n    });\r\n  }\r\n\r\n  onLibraryButtonsClick(queueBtn, watchedBtn, queuedFilms);\r\n  onLibraryButtonsClick(watchedBtn, queueBtn, watchedFilms);\r\n\r\n  function updateFilmsLibraryMarkup(localStorageFilms) {\r\n    if (!localStorageFilms) {\r\n      refs.filmsGallery.innerHTML = '';\r\n      const message =\r\n        '<div class=\"films-gallery-warning\"><p>No movies here yet. Visit Home to add some =)</p><div>';\r\n      refs.filmsGallery.insertAdjacentHTML('beforeend', message);\r\n      return;\r\n    }\r\n\r\n    refs.filmsGallery.innerHTML = '';\r\n    localStorageFilms.map(\r\n      ({ id, poster_path, title, release_date, genres, vote_average }) => {\r\n        const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${genres.join(\r\n    ', ',\r\n  )} | ${release_date}<span class=\"modal-info-vote-average library\">${vote_average}</span></p>\r\n</li>\r\n`;\r\n        refs.filmsGallery.insertAdjacentHTML('beforeend', markup);\r\n      },\r\n    );\r\n  }\r\n}\r\n\r\n//-------------------------------------------------------------\r\n\r\nrenderHomePage(headerTemplates.homeHeader);\r\n\r\nexport default renderFilmsGallery;\r\n","import { paginateFilms, paginateOnClick } from './pagination';\r\nimport genres from './decodingJenres';\r\nimport { showSpinner, hideSpinner } from './spinner';\r\nimport apiServise from './api-servise';\r\n\r\nconst refs = {\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  searchForm: document.querySelector('#search-form'),\r\n  notice: document.querySelector('.header-search-warning-show'),\r\n};\r\n\r\nconst path = 'https://api.themoviedb.org/3';\r\nconst key = 'ffddee44025dd24685ea61d637d56d24';\r\n\r\nfunction listenSearchFormSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    apiServise.resetPage();\r\n    // console.log('apiServise.page: ', apiServise.page);\r\n\r\n    refs.notice.classList.add('is-hidden');\r\n\r\n    const form = event.currentTarget;\r\n    const input = form.elements.query;\r\n\r\n    if (input.value === '') {\r\n      refs.notice.classList.remove('is-hidden');\r\n      refs.notice.textContent =\r\n        'Unable to make a search query. Please enter any text!';\r\n\r\n      return;\r\n    }\r\n\r\n    apiServise.setQuery(input.value);\r\n    // console.log('apiServise.query: ', apiServise.query);\r\n\r\n    showSpinner();\r\n    setPagination().catch(console.log).finally(hideSpinner);\r\n\r\n  form.reset();\r\n};\r\n\r\nfunction setPagination() {\r\n  return renderFilmsGallery().then(({ totalAmountOfFilms }) => {\r\n    // console.log('totalAmountOfFilms: ', totalAmountOfFilms);\r\n\r\n    paginateFilms(totalAmountOfFilms);\r\n    paginateOnClick(totalAmountOfFilms);\r\n  });\r\n}\r\n\r\nfunction renderFilmsGallery() {\r\n  return fetchMoviesByKeyword().then(({ results, total_results }) => {\r\n    // console.log(results);\r\n    // console.log(total_results);\r\n\r\n    if (results.length === 0) {\r\n      refs.notice.classList.remove('is-hidden');\r\n      refs.notice.textContent =\r\n        'Your search did not match any films. Please clarify the request!';\r\n\r\n      return;\r\n    }\r\n\r\n    refs.filmsGallery.innerHTML = '';\r\n\r\n    updateFilmsGalleryMarkup(results);\r\n\r\n    const data = {\r\n      totalAmountOfFilms: total_results,\r\n    };\r\n\r\n    return data;\r\n  });\r\n}\r\n\r\nfunction fetchMoviesByKeyword() {\r\n  return fetch(\r\n    `${path}/search/movie?api_key=${key}&language=en-US&page=${apiServise.page}&include_adult=false&query=${apiServise.query}`,\r\n  ).then(response => response.json());\r\n}\r\n\r\nfunction updateFilmsGalleryMarkup(films) {\r\n  // console.log('genres: ', genres);\r\n\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n    // console.log('filteredGenres: ', filteredGenres);\r\n\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n    // console.log('mapedGenres: ', mapedGenres);\r\n\r\n    let slicedMapedGenres = [];\r\n\r\n    if (mapedGenres.length < 3) {\r\n      slicedMapedGenres = mapedGenres;\r\n    } else {\r\n      slicedMapedGenres = mapedGenres.slice(0, 2);\r\n      slicedMapedGenres.push('Other');\r\n    }\r\n    // console.log('slicedMapedGenres: ', slicedMapedGenres);\r\n\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${slicedMapedGenres.join(', ')} | ${\r\n      release_date.split('-')[0]\r\n    }</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGallery.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}\r\n\r\nrefs.searchForm.addEventListener('submit', listenSearchFormSubmit);\r\nexport default listenSearchFormSubmit;\r\n","import headerTemplates from './components/headers-tpl';\r\nimport movieDetailedCardTemplate from '../templates/details-modal.hbs';\r\nimport renderFilmsGallery from './homePageRendering';\r\nimport listenSearchFormSubmit from './movieSearch';\r\nimport genres from './decodingJenres';\r\nimport refs from './refs';\r\nimport {\r\n  updateUserWatched,\r\n  updateUserQueue,\r\n  checkIfInQueue,\r\n  checkIfIsInUserLibrary,\r\n  getUserWatchedFromDatabase,\r\n  getUserQueueFromDatabase,\r\n} from './userLibrary';\r\nimport { currentUserId } from './login-form';\r\n\r\nconst apiKey = 'ffddee44025dd24685ea61d637d56d24';\r\nconst baseUrl = 'https://api.themoviedb.org/3/movie/';\r\nlet movieId = 0;\r\nlet currentPage = 0;\r\nlet inputValue = '';\r\nlet activeLink = '';\r\nlet activeBtn = '';\r\n\r\nrefs.headerSearchInput = document.querySelector('.header-search-form-input');\r\nrefs.header = document.querySelector('.header-container-js');\r\nrefs.main = document.querySelector('main');\r\nrefs.filmsGalleryList = document.querySelector('#films-gallery');\r\nrefs.pagination = document.querySelector('#pagination');\r\n\r\nrefs.headerSearchInput.addEventListener('change', getInputValue);\r\nrefs.filmsGalleryList.addEventListener('click', handleMovieDetails);\r\n\r\nfunction getActiveElements() {\r\n  activeLink = document.querySelector('.current').textContent;\r\n  currentPage = Number(document.querySelector('.tui-is-selected').textContent);\r\n\r\n  if (activeLink === 'MY LIBRARY') {\r\n    refs.activeBtn = document.querySelector('.is-active-btn');\r\n    activeBtn = refs.activeBtn.textContent;\r\n  }\r\n  return [activeLink, currentPage, activeBtn];\r\n}\r\n\r\nfunction getInputValue(event) {\r\n  inputValue = event.target.value;\r\n  return inputValue;\r\n}\r\n\r\nfunction handleMovieDetails(event) {\r\n  getActiveElements();\r\n\r\n  if (event.target.parentNode.nodeName !== 'LI') {\r\n    return;\r\n  }\r\n\r\n  movieId = event.target.parentNode.dataset.id;\r\n  refs.spinner.classList.add('is-open');\r\n  getMovieDetails(baseUrl, apiKey, movieId)\r\n    .then(data => {\r\n      const newData = {\r\n        id: data.id,\r\n        poster_path: data.poster_path,\r\n        title: data.title,\r\n        vote_average: data.vote_average,\r\n        vote_count: data.vote_count,\r\n        popularity: Math.ceil(data.popularity * 10) / 10,\r\n        original_title: data.original_title,\r\n        overview: data.overview,\r\n        genres: data.genres.slice(0, 2).map(({ name }) => name),\r\n        release_date: data.release_date.split('-')[0],\r\n      };\r\n      if (data.genres.length > 2) {\r\n        newData.genres.push('Other');\r\n      }\r\n\r\n      const modalMovieCard = movieDetailedCardTemplate(newData);\r\n      renderMovieDetailsPage(modalMovieCard);\r\n\r\n      window.addEventListener('keydown', onPressESC);\r\n      refs.main.addEventListener('click', closeOnClick);\r\n\r\n      // ADD BUTTUNS & CHECK IF THE MOVIE IS IN USER LIBRARY\r\n      refs.addToWatchedBtn = document.querySelector('#js-watched-button');\r\n      refs.addToQueueBtn = document.querySelector('#js-queue-button');\r\n      checkIfIsInUserLibrary(newData);\r\n\r\n      // WATCHED BUTTON HANDLER\r\n      refs.addToWatchedBtn.addEventListener('click', e => {\r\n        checkIfInQueue(newData);\r\n        updateUserWatched(newData);\r\n      });\r\n\r\n      // QUEUE BUTTON HANDLER\r\n      refs.addToQueueBtn.addEventListener('click', e => {\r\n        updateUserQueue(newData);\r\n      });\r\n    })\r\n    .catch(error => console.log(error))\r\n    .finally(() => {\r\n      refs.spinner.classList.remove('is-open');\r\n    });\r\n}\r\n\r\nfunction getMovieDetails(baseUrl, apiKey, movieId) {\r\n  return fetch(`${baseUrl}${movieId}?api_key=${apiKey}&language=en-US`)\r\n    .then(response => response.json())\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n\r\nfunction renderMovieDetailsPage(modalMovieCard) {\r\n  // document.querySelector('.header-container');\r\n  refs.header.innerHTML = '';\r\n  refs.filmsGalleryList.innerHTML = '';\r\n  // refs.filmsGalleryList.style.display = 'none';\r\n  refs.pagination.style.display = 'none';\r\n  refs.header.insertAdjacentHTML('beforeend', headerTemplates.modalHeader);\r\n  refs.main.insertAdjacentHTML('afterbegin', modalMovieCard);\r\n}\r\n\r\nfunction closeMovieDetails() {\r\n  refs.header.innerHTML = '';\r\n  document.querySelector('.modal').remove();\r\n  refs.filmsGalleryList.style.display = 'flex';\r\n\r\n  if (activeLink === 'HOME') {\r\n    refs.header.insertAdjacentHTML('beforeend', headerTemplates.homeHeader);\r\n    refs.searchForm = document.querySelector('#search-form');\r\n    refs.searchForm.addEventListener('submit', listenSearchFormSubmit);\r\n\r\n    if (inputValue !== '') {\r\n      renderSearchFilmsGallery(currentPage, genres, inputValue);\r\n    } else {\r\n      renderFilmsGallery(currentPage, genres);\r\n    }\r\n    refs.pagination.style.display = 'block';\r\n  }\r\n\r\n  if (activeLink === 'MY LIBRARY') {\r\n    refs.header.insertAdjacentHTML(\r\n      'beforeend',\r\n      headerTemplates.myLibraryHeader,\r\n    );\r\n    const userLocalStorageWatched = getUserWatchedFromDatabase(currentUserId);\r\n    const userLocalStorageQueue = getUserQueueFromDatabase(currentUserId);\r\n\r\n    refs.watchedBtn = document.querySelector('.header-button-watched');\r\n    refs.queueBtn = document.querySelector('.header-button-queue');\r\n\r\n    if (activeBtn === 'watched') {\r\n      renderLibrary(userLocalStorageWatched);\r\n    } else {\r\n      renderLibrary(userLocalStorageQueue);\r\n      refs.watchedBtn.classList.remove('is-active-btn');\r\n      refs.queueBtn.classList.add('is-active-btn');\r\n    }\r\n\r\n    refs.watchedBtn.classList.remove('is-active-btn');\r\n    refs.queueBtn.classList.add('is-active-btn');\r\n\r\n    refs.watchedBtn = document.querySelector('.header-button-watched');\r\n    refs.queueBtn = document.querySelector('.header-button-queue');\r\n\r\n    onLibraryButtonsClick(\r\n      refs.queueBtn,\r\n      refs.watchedBtn,\r\n      userLocalStorageQueue,\r\n    );\r\n    onLibraryButtonsClick(\r\n      refs.watchedBtn,\r\n      refs.queueBtn,\r\n      userLocalStorageWatched,\r\n    );\r\n  }\r\n\r\n  // inputValue = \"\";\r\n}\r\n\r\nfunction onPressESC(event) {\r\n  if (event.code === 'Escape') {\r\n    closeMovieDetails();\r\n    window.removeEventListener('keydown', onPressESC);\r\n  }\r\n}\r\n\r\nfunction closeOnClick(event) {\r\n  switch (event.target) {\r\n    case refs.addToWatchedBtn:\r\n    case refs.addToQueueBtn:\r\n      break;\r\n    default:\r\n      closeMovieDetails();\r\n      refs.main.removeEventListener('click', closeOnClick);\r\n  }\r\n}\r\n\r\n// ========RENDER SearchGalleryFilms============\r\nfunction renderSearchFilmsGallery(currentPage, genres, inputValue) {\r\n  return fetchApiSearch(currentPage, inputValue).then(\r\n    ({ results, total_results }) => {\r\n      updateFilmsGalleryMarkup(results, genres);\r\n      const data = {\r\n        totalAmountOfFilms: total_results,\r\n      };\r\n\r\n      return data;\r\n    },\r\n  );\r\n}\r\nfunction fetchApiSearch(currentPage, inputValue) {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${inputValue}&page=${currentPage}&include_adult=false`,\r\n  ).then(res => res.json());\r\n}\r\n\r\nfunction updateFilmsGalleryMarkup(films, genres) {\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n\r\n    let slicedMapedGenres = [];\r\n\r\n    if (mapedGenres.length < 3) {\r\n      slicedMapedGenres = mapedGenres;\r\n    } else {\r\n      slicedMapedGenres = mapedGenres.slice(0, 2);\r\n      slicedMapedGenres.push('Other');\r\n    }\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${slicedMapedGenres.join(', ')} | ${\r\n      release_date.split('-')[0]\r\n    }</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGalleryList.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}\r\n\r\nfunction onLibraryButtonsClick(activeBtn, inactiveBtn, films) {\r\n  activeBtn.addEventListener('click', event => {\r\n    event.preventDefault();\r\n    refs.filmsGalleryList.innerHTML = '';\r\n    renderLibrary(films);\r\n    inactiveBtn.classList.remove('is-active-btn');\r\n    activeBtn.classList.add('is-active-btn');\r\n  });\r\n}\r\n\r\nfunction renderLibrary(films) {\r\n  films.map(\r\n    ({ id, poster_path, title, release_date, genres, vote_average }) => {\r\n      const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${genres.join(\r\n    ', ',\r\n  )} | ${release_date}<span class=\"modal-info-vote-average library\">${vote_average}</span></p>\r\n</li>\r\n`;\r\n\r\n      refs.filmsGalleryList.insertAdjacentHTML('beforeend', markup);\r\n    },\r\n  );\r\n}\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport photoRed from '../images/photo-red.jpg';\r\n\r\nconst markupStudent = `<div class=\"team-wrapper\">\r\n<div class=\"team-card\">\r\n <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01301DGATC-U013V8Q7HU1-b66c40babb7d-192\"\r\n  >\r\n    <p class=\"team-name\">Rostyslav Zahorulko</p>\r\n    <p class=\"team-role\">Team Lead</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n     <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01A5LX36UT-d79e95c64409-5122\"\r\n  >\r\n    <p class=\"team-name\">Arkadii Basovych</p>\r\n    <p class=\"team-role\">Scrum Master</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01A9LTBZA8-06cbe1fcd7b6-512\"\r\n  >\r\n    <p class=\"team-name\">Oksana Cherepanova</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019WN8GZJS-380c6cd06280-512\"\r\n  >\r\n    <p class=\"team-name\">Natalia Duvirak</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01AT710YLQ-3a6d16128ec7-512\"\r\n  >\r\n    <p class=\"team-name\">David<br>Shakaya</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01A3HTTQE6-4c9caf01316f-512\"\r\n  >\r\n    <p class=\"team-name\">Oleksii Maistriuk</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n   <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01ATCQ5GKA-46dd5abf2215-512\"\r\n  >\r\n    <p class=\"team-name\">Zoe<br>Baletska</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019WKPR89L-21c1789a67bc-512\"\r\n  >\r\n    <p class=\"team-name\">Serhii<br>Koziuba</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019WP9NVN2-6122ddfef0b5-512\"\r\n  >\r\n    <p class=\"team-name\">Konstantin Bruno</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"${photoRed}\"\r\n  >\r\n    <p class=\"team-name\">Iryna<br>Redka</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n   <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019P8QMTUP-6513aed3ebc7-512\"\r\n  >\r\n    <p class=\"team-name\">Larysa Smyrnova</p>\r\n    <p class=\"team-role\">Developer</p>\r\n</div>\r\n</div>`;\r\nconst container = document.querySelector('.open-modal-develop');\r\n\r\ncontainer.addEventListener('click', openModalStudent);\r\n\r\nconst modal = basicLightbox.create(markupStudent);\r\n\r\nfunction openModalStudent(e) {\r\n  modal.show();\r\n\r\n  window.addEventListener('keydown', closeModalHandler);\r\n\r\n  function closeModalHandler(e) {\r\n    if (e.code === 'Escape') {\r\n      modal.close();\r\n      window.removeEventListener('keydown', closeModalHandler);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}