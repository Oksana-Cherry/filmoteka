{"version":3,"sources":["webpack:///./images/photo-red.jpg","webpack:///./templates/details-modal.hbs","webpack:///./js/refs.js","webpack:///./js/components/headers-tpl.js","webpack:///./js/decodingJenres.js","webpack:///./js/spinner.js","webpack:///./js/api-servise.js","webpack:///./js/pagination.js","webpack:///./js/homePageRendering.js","webpack:///./js/movieSearch.js","webpack:///./js/userLibrary.js","webpack:///./js/modalMovie.js","webpack:///./js/modal-login.js","webpack:///./js/login-form.js","webpack:///./js/modal-student.js"],"names":["module","exports","Handlebars","template","container","depth0","helpers","partials","data","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","refs","ulListMovie","document","querySelector","liFilmsGalleryItem","headerSearchWarningShow","filmsGallery","header","logo","homeLink","spinner","openModalBtn","closeModalBtn","backdrop","logOutbutton","userName","paginationContainer","headerTemplates","homeHeader","myLibraryHeader","modalHeader","decGenres","id","name","spinnerRef","showSpinner","classList","add","hideSpinner","remove","apiServise","query","page","setQuery","value","this","setPage","incrementPage","decrementPage","resetPage","paginateFilms","totalAmountOfFilms","options","totalItems","itemsPerPage","visiblePages","centerAlign","firstItemClassName","lastItemClassName","currentPage","moveButton","disabledMoveButton","moreButton","Pagination","paginateOnClick","addEventListener","event","target","nodeName","innerHTML","button","className","Number","textContent","renderFilmsGallery","finally","activeBtnRef1","activeBtnRef2","console","log","headerTpl","libraryBtn","updateHeaderMarkup","insertAdjacentHTML","libraryHandleClick","fetch","path","then","response","json","results","total_results","map","poster_path","title","release_date","genre_ids","mapedGenres","genres","filter","genre","includes","slicedMapedGenres","length","slice","push","markup","toUpperCase","join","split","preventDefault","watchedFilms","JSON","parse","localStorage","getItem","queuedFilms","style","display","updateFilmsLibraryMarkup","watchedBtn","queueBtn","onLibraryButtonsClick","activeBtn","inactiveBtn","films","localStorageFilms","vote_average","catch","searchForm","notice","listenSearchFormSubmit","form","currentTarget","input","elements","reset","updateUserQueue","movieData","userQueue","localQueue","isInQueue","toastr","addToQueueBtn","contains","movieIndex","findIndex","movie","splice","localWatched","some","isInWatched","isDublicate","addToLocalQueue","array","setItem","stringify","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","apiKey","movieId","inputValue","activeLink","closeMovieDetails","filmsGalleryList","res","fetchApiSearch","updateFilmsGalleryMarkup","renderSearchFilmsGallery","pagination","userLocalStorageWatched","userLocalStorageQueue","renderLibrary","onPressESC","code","window","removeEventListener","closeOnClick","addToWatchedBtn","main","headerSearchInput","getActiveElements","parentNode","dataset","baseUrl","error","getMovieDetails","newData","vote_count","popularity","Math","ceil","original_title","overview","modalMovieCard","renderMovieDetailsPage","movieDetailedCardTemplate","userWatched","checkIfIsInUserLibrary","e","checkIfInQueue","updateUserWatched","onCloseModal","onEscKeyPress","body","firebase","initializeApp","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ui","firebaseui","auth","AuthUI","PhoneAuthProvider","uiConfig","signInFlow","signInOptions","PROVIDER_ID","GoogleAuthProvider","EmailAuthProvider","AnonymousAuthProvider","signOut","onAuthStateChanged","firebaseUser","displayName","start","markupStudent","photoRed","modal","show","closeModalHandler","close","basicLightbox"],"mappings":"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","file":"main.f01e092755bc9d52eac8.js","sourcesContent":["module.exports = __webpack_public_path__ + \"images/photo-red.jpg\";","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\\r\\n                    <span class=\\\"modal-info-genres-text-list-data\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"modal\\\">\\r\\n    <div class=\\\"modal-container\\\">\\r\\n        <img class=\\\"modal-image\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":69},\"end\":{\"line\":3,\"column\":84}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":91},\"end\":{\"line\":3,\"column\":100}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"modal-info\\\">\\r\\n            <h2 class=\\\"modal-info-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":50}}}) : helper)))\n    + \"</h2>\\r\\n            <p class=\\\"modal-info-vote card-text\\\">\\r\\n                Vote / Votes<span class=\\\"modal-info-vote-average\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":66},\"end\":{\"line\":8,\"column\":82}}}) : helper)))\n    + \"</span>/<span\\r\\n                    class=\\\"modal-info-vote-count\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":64}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <p class=\\\"modal-info-popularity card-text\\\">\\r\\n                Popularity<span class=\\\"modal-info-popularity-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":67},\"end\":{\"line\":12,\"column\":81}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <p class=\\\"modal-info-title-original card-text\\\">\\r\\n                Original Title<span class=\\\"modal-info-title-original-data\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":75},\"end\":{\"line\":15,\"column\":93}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n            <div class=\\\"modal-info-genres\\\">\\r\\n                <p class=\\\"modal-info-genres-text card-text\\\">\\r\\n                    Genre\\r\\n                </p>\\r\\n                <p class=\\\"modal-info-genres-text-list\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":55},\"end\":{\"line\":23,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </p>\\r\\n            </div>\\r\\n            <h3 class=\\\"modal-info-about\\\">About</h3>\\r\\n            <p class=\\\"modal-info-description\\\">\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":16},\"end\":{\"line\":28,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <div class=\\\"modal-info-buttons-list\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"modal-info-buttons-list-item\\\" id=\\\"js-watched-button\\\">Add to\\r\\n                    watched</button>\\r\\n                <button type=\\\"button\\\" class=\\\"modal-info-buttons-list-item\\\" id=\\\"js-queue-button\\\">Add to queue</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","const refs = {\r\n  ulListMovie: document.querySelector('.list-movie-search-js'),\r\n  liFilmsGalleryItem: document.querySelector('.films-gallery-item'),\r\n  headerSearchWarningShow() {\r\n    return document.querySelector('#header-search-warning-show');\r\n  },\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  header: document.querySelector('.header-container-js'),\r\n  logo: document.querySelector('.header-logo-js'),\r\n  homeLink: document.querySelector('.navigation-list-item-link-home'),\r\n  spinner: document.querySelector('.js-spinner'),\r\n  openModalBtn: document.querySelector('[data-action=\"open-modal\"]'),\r\n  closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\r\n  backdrop: document.querySelector('.js-backdrop'),\r\n  logOutbutton: document.querySelector('.js-singOut-button'),\r\n  userName: document.querySelector('.js-display-username'),\r\n  paginationContainer: document.querySelector('#pagination'),\r\n};\r\n\r\nexport default refs;\r\n","const headerTemplates = {\r\n  homeHeader: `<div class=\" header home-header header-container\">\r\n  \r\n  <form action=\"\" class=\"header-search-form\" id=\"search-form\">\r\n    <input type=\"text\" name=\"query\" class=\"header-search-form-input\" placeholder=\"Поиск фильмов\">\r\n    <button class=\"header-search-form-btn\" type=\"submit\"></button>\r\n  </form>\r\n  <p id=\"header-search-warning-show\"  class=\"header-search-warning-show is-hidden\">Search result not successful. Enter the correct movie name and</p>\r\n`,\r\n  myLibraryHeader: `<div class=\" header my-library-header header-container\">\r\n  \r\n  <ul class=\"header-button-list\">\r\n    <li class=\"header-button-item\"><button class=\"header-button header-button-watched is-active-btn\">watched</button></li>\r\n    <li class=\"header-button-item\"><button class=\"header-button header-button-queue\">queue</button></li>\r\n  </ul>\r\n`,\r\n  modalHeader: `<div class=\"header modal-header header-container\">\r\n`,\r\n};\r\nexport default headerTemplates;\r\n","const decGenres = [\r\n{ id: 28, name: \"Action\" },\r\n{id: 12, name: \"Adventure\"},\r\n{id: 16, name: \"Animation\"},\r\n{id: 35, name: \"Comedy\"},\r\n{id: 80, name: \"Crime\"},\r\n{id: 99, name: \"Documentary\"},\r\n{id: 18, name: \"Drama\"},\r\n{id: 10751, name: \"Family\"},\r\n{id: 14, name: \"Fantasy\"},\r\n{id: 36, name: \"History\"},\r\n{id: 27, name: \"Horror\"},\r\n{id: 10402, name: \"Music\"},\r\n{id: 9648, name: \"Mystery\"},\r\n{id: 10749, name: \"Romance\"},\r\n{id: 878, name: \"Science Fiction\"},\r\n{id: 10770, name: \"TV Movie\"},\r\n{id: 53, name: \"Thriller\"},\r\n{id: 10752, name: \"War\"},\r\n{ id: 37, name: \"Western\" }]\r\n\r\nexport default decGenres","const spinnerRef = document.querySelector('.js-spinner');\r\n\r\nfunction showSpinner() {\r\n  spinnerRef.classList.add('is-open');\r\n}\r\n\r\nfunction hideSpinner() {\r\n  spinnerRef.classList.remove('is-open');\r\n}\r\n\r\nexport { showSpinner, hideSpinner };\r\n","const apiServise = {\r\n  query: '',\r\n  page: 1,\r\n\r\n  setQuery(value) {\r\n    this.query = value;\r\n  },\r\n\r\n  setPage(value) {\r\n    this.page = value;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  decrementPage() {\r\n    this.page -= 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n\r\nexport default apiServise;\r\n","import Pagination from 'tui-pagination';\r\nimport renderFilmsGallery from './homePageRendering';\r\nimport { showSpinner, hideSpinner } from './spinner';\r\nimport apiServise from './api-servise';\r\n\r\nconst refs = {\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  paginationContainer: document.querySelector('#pagination'),\r\n};\r\n\r\nfunction paginateFilms(totalAmountOfFilms) {\r\n  const options = {\r\n    totalItems: totalAmountOfFilms,\r\n    itemsPerPage: 20,\r\n    visiblePages: 5,\r\n    page: 1,\r\n    centerAlign: false,\r\n    firstItemClassName: 'tui-first-child',\r\n    lastItemClassName: 'tui-last-child',\r\n    template: {\r\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\r\n      currentPage:\r\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\r\n      moveButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\r\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n        '</a>',\r\n      disabledMoveButton:\r\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\r\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n        '</span>',\r\n      moreButton:\r\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\r\n        '<span class=\"tui-ico-ellip\">...</span>' +\r\n        '</a>',\r\n    },\r\n  };\r\n\r\n  new Pagination('pagination', options);\r\n}\r\n\r\nfunction paginateOnClick(totalAmountOfFilms) {\r\n  refs.paginationContainer.addEventListener(\r\n    'click',\r\n    handleOnPaginationContainerClick,\r\n  );\r\n\r\n  function handleOnPaginationContainerClick(event) {\r\n    if (event.target.nodeName !== 'A') {\r\n      return;\r\n    }\r\n\r\n    refs.filmsGallery.innerHTML = '';\r\n\r\n    showSpinner();\r\n\r\n    const button = event.target;\r\n\r\n    // console.dir(button);\r\n    // console.log('button.className: ', button.className);\r\n\r\n    switch (button.className) {\r\n      case 'tui-page-btn':\r\n        apiServise.setPage(Number(button.textContent));\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-prev':\r\n        apiServise.decrementPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-next':\r\n        apiServise.incrementPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-first':\r\n        apiServise.resetPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-last':\r\n        apiServise.setPage(totalAmountOfFilms / 20);\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-first-child':\r\n        apiServise.resetPage();\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-prev-is-ellip tui-first-child':\r\n        const activeBtnRef1 = document.querySelector('.tui-is-selected');\r\n        apiServise.setPage(Number(activeBtnRef1.textContent));\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      case 'tui-page-btn tui-next-is-ellip tui-last-child':\r\n        const activeBtnRef2 = document.querySelector('.tui-is-selected');\r\n        apiServise.setPage(Number(activeBtnRef2.textContent));\r\n        // console.log('page: ', apiServise.page);\r\n        renderFilmsGallery().finally(hideSpinner);\r\n        return;\r\n\r\n      default:\r\n        console.log('Hi!');\r\n    }\r\n  }\r\n}\r\n\r\nexport { paginateFilms, paginateOnClick };\r\n","import headerTemplates from './components/headers-tpl';\r\nimport genres from './decodingJenres';\r\nimport { paginateFilms, paginateOnClick } from './pagination';\r\nimport { showSpinner, hideSpinner } from './spinner';\r\nimport apiServise from './api-servise';\r\n\r\nconst refs = {\r\n  header: document.querySelector('.header-container-js'),\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  libraryBtn: document.querySelector('.navigation-list-item-link-my-library'),\r\n  paginationContainer: document.querySelector('#pagination'),\r\n  homeLink: document.querySelector('.navigation-list-item-link-home'),\r\n};\r\n\r\nconst path = 'https://api.themoviedb.org/3';\r\nconst key = 'ffddee44025dd24685ea61d637d56d24';\r\n\r\nfunction renderHomePage(headerTpl) {\r\n  apiServise.resetPage();\r\n  showSpinner();\r\n  updateHeaderMarkup(headerTpl);\r\n  setPagination().catch(console.log).finally(hideSpinner);\r\n}\r\n\r\nfunction updateHeaderMarkup(headerTpl) {\r\n  refs.header.innerHTML = '';\r\n  refs.header.insertAdjacentHTML('beforeend', headerTpl);\r\n  refs.libraryBtn.addEventListener('click', libraryHandleClick);\r\n}\r\n\r\nfunction setPagination() {\r\n  return renderFilmsGallery().then(({ totalAmountOfFilms }) => {\r\n    // console.log('totalAmountOfFilms: ', totalAmountOfFilms);\r\n\r\n    paginateFilms(totalAmountOfFilms);\r\n    paginateOnClick(totalAmountOfFilms);\r\n  });\r\n}\r\n\r\nfunction renderFilmsGallery() {\r\n  return fetchTrends().then(({ results, total_results }) => {\r\n    // console.log('results: ', results);\r\n    // console.log('total_results: ', total_results);\r\n\r\n    updateFilmsGalleryMarkup(results);\r\n\r\n    const data = {\r\n      totalAmountOfFilms: total_results,\r\n    };\r\n\r\n    return data;\r\n  });\r\n}\r\n\r\nfunction fetchTrends() {\r\n  return fetch(\r\n    `${path}/trending/movie/day?api_key=${key}&page=${apiServise.page}`,\r\n  ).then(response => response.json());\r\n}\r\n\r\nfunction updateFilmsGalleryMarkup(films) {\r\n  // console.log('genres: ', genres);\r\n\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n    // console.log('filteredGenres: ', filteredGenres);\r\n\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n    // console.log('mapedGenres: ', mapedGenres);\r\n\r\n    let slicedMapedGenres = [];\r\n\r\n    if (mapedGenres.length < 3) {\r\n      slicedMapedGenres = mapedGenres;\r\n    } else {\r\n      slicedMapedGenres = mapedGenres.slice(0, 2);\r\n      slicedMapedGenres.push('Other');\r\n    }\r\n    // console.log('slicedMapedGenres: ', slicedMapedGenres);\r\n\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${slicedMapedGenres.join(', ')} | ${\r\n      release_date.split('-')[0]\r\n    }</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGallery.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}\r\n\r\n//--------------ОТРИСОВКА БИБЛИОТЕКИ ПОЛЬЗОВАТЕЛЯ----------------\r\nfunction libraryHandleClick(event) {\r\n  event.preventDefault();\r\n  refs.homeLink.classList.remove('current');\r\n  refs.libraryBtn.classList.add('current');\r\n  const watchedFilms = JSON.parse(localStorage.getItem('localWatched'));\r\n  const queuedFilms = JSON.parse(localStorage.getItem('localQueue'));\r\n  const filmsGalleryListSearch = document.querySelector(\r\n    '.list-movie-search-js',\r\n  );\r\n  filmsGalleryListSearch.style.display = 'none';\r\n  updateHeaderMarkup(headerTemplates.myLibraryHeader);\r\n  refs.filmsGallery.innerHTML = '';\r\n  refs.paginationContainer.style.display = 'none';\r\n  updateFilmsLibraryMarkup(watchedFilms);\r\n\r\n  const watchedBtn = document.querySelector('.header-button-watched');\r\n  const queueBtn = document.querySelector('.header-button-queue');\r\n  function onLibraryButtonsClick(activeBtn, inactiveBtn, films) {\r\n    activeBtn.addEventListener('click', event => {\r\n      event.preventDefault();\r\n      updateFilmsLibraryMarkup(films);\r\n      inactiveBtn.classList.remove('is-active-btn');\r\n      activeBtn.classList.add('is-active-btn');\r\n    });\r\n  }\r\n\r\n  onLibraryButtonsClick(queueBtn, watchedBtn, queuedFilms);\r\n  onLibraryButtonsClick(watchedBtn, queueBtn, watchedFilms);\r\n\r\n  function updateFilmsLibraryMarkup(localStorageFilms) {\r\n    refs.filmsGallery.innerHTML = '';\r\n    localStorageFilms.map(\r\n      ({ id, poster_path, title, release_date, genres, vote_average }) => {\r\n        const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${genres.join(\r\n    ', ',\r\n  )} | ${release_date}<span class=\"modal-info-vote-average library\">${vote_average}</span></p>\r\n</li>\r\n`;\r\n        refs.filmsGallery.insertAdjacentHTML('beforeend', markup);\r\n      },\r\n    );\r\n  }\r\n}\r\n//-------------------------------------------------------------\r\n\r\nrenderHomePage(headerTemplates.homeHeader);\r\n\r\nexport default renderFilmsGallery;\r\n","import { paginateFilms, paginateOnClick } from './pagination';\r\nimport genres from './decodingJenres';\r\nimport { showSpinner, hideSpinner } from './spinner';\r\nimport apiServise from './api-servise';\r\n\r\nconst refs = {\r\n  filmsGallery: document.querySelector('#films-gallery'),\r\n  searchForm: document.querySelector('#search-form'),\r\n  notice: document.querySelector('.header-search-warning-show'),\r\n};\r\n\r\nconst path = 'https://api.themoviedb.org/3';\r\nconst key = 'ffddee44025dd24685ea61d637d56d24';\r\n\r\nfunction listenSearchFormSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    apiServise.resetPage();\r\n    // console.log('apiServise.page: ', apiServise.page);\r\n\r\n    refs.notice.classList.add('is-hidden');\r\n\r\n    const form = event.currentTarget;\r\n    const input = form.elements.query;\r\n\r\n    if (input.value === '') {\r\n      refs.notice.classList.remove('is-hidden');\r\n      refs.notice.textContent =\r\n        'Unable to make a search query. Please enter any text!';\r\n\r\n      return;\r\n    }\r\n\r\n    apiServise.setQuery(input.value);\r\n    // console.log('apiServise.query: ', apiServise.query);\r\n\r\n    showSpinner();\r\n    setPagination().catch(console.log).finally(hideSpinner);\r\n\r\n  form.reset();\r\n};\r\n\r\nfunction setPagination() {\r\n  return renderFilmsGallery().then(({ totalAmountOfFilms }) => {\r\n    // console.log('totalAmountOfFilms: ', totalAmountOfFilms);\r\n\r\n    paginateFilms(totalAmountOfFilms);\r\n    paginateOnClick(totalAmountOfFilms);\r\n  });\r\n}\r\n\r\nfunction renderFilmsGallery() {\r\n  return fetchMoviesByKeyword().then(({ results, total_results }) => {\r\n    // console.log(results);\r\n    // console.log(total_results);\r\n\r\n    if (results.length === 0) {\r\n      refs.notice.classList.remove('is-hidden');\r\n      refs.notice.textContent =\r\n        'Your search did not match any films. Please clarify the request!';\r\n\r\n      return;\r\n    }\r\n\r\n    refs.filmsGallery.innerHTML = '';\r\n\r\n    updateFilmsGalleryMarkup(results);\r\n\r\n    const data = {\r\n      totalAmountOfFilms: total_results,\r\n    };\r\n\r\n    return data;\r\n  });\r\n}\r\n\r\nfunction fetchMoviesByKeyword() {\r\n  return fetch(\r\n    `${path}/search/movie?api_key=${key}&language=en-US&page=${apiServise.page}&include_adult=false&query=${apiServise.query}`,\r\n  ).then(response => response.json());\r\n}\r\n\r\nfunction updateFilmsGalleryMarkup(films) {\r\n  // console.log('genres: ', genres);\r\n\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n    // console.log('filteredGenres: ', filteredGenres);\r\n\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n    // console.log('mapedGenres: ', mapedGenres);\r\n\r\n    let slicedMapedGenres = [];\r\n\r\n    if (mapedGenres.length < 3) {\r\n      slicedMapedGenres = mapedGenres;\r\n    } else {\r\n      slicedMapedGenres = mapedGenres.slice(0, 2);\r\n      slicedMapedGenres.push('Other');\r\n    }\r\n    // console.log('slicedMapedGenres: ', slicedMapedGenres);\r\n\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${slicedMapedGenres.join(', ')} | ${\r\n      release_date.split('-')[0]\r\n    }</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGallery.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}\r\n\r\nrefs.searchForm.addEventListener('submit', listenSearchFormSubmit);\r\nexport default listenSearchFormSubmit;\r\n","import refs from './refs';\r\n\r\nimport toastr from 'toastr';\r\nimport '../../node_modules/toastr/build/toastr.css';\r\n\r\ntoastr.options = {\r\n  closeButton: true,\r\n  debug: false,\r\n  newestOnTop: true,\r\n  progressBar: false,\r\n  positionClass: 'toast-bottom-right',\r\n  preventDuplicates: false,\r\n  onclick: null,\r\n  showDuration: '200',\r\n  hideDuration: '400',\r\n  timeOut: '2000',\r\n  extendedTimeOut: '1000',\r\n  showEasing: 'swing',\r\n  hideEasing: 'linear',\r\n  showMethod: 'fadeIn',\r\n  hideMethod: 'fadeOut',\r\n};\r\n\r\n// WATCHED LIBRARY (ADD MOVIES TO USER WATCHeD IN THE LOCAL STORAGE)\r\n// LOCAL STORAGE KEY = localWatched\r\nexport function updateUserWatched(movieData) {\r\n  let userWatched = [];\r\n  let localWatched = localStorage.getItem('localWatched');\r\n\r\n  if (localWatched) {\r\n    userWatched = JSON.parse(localWatched);\r\n\r\n    if (refs.addToWatchedBtn.classList.contains('js-is-in-watched')) {\r\n      let movieIndex = userWatched.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      movieData.isInWatched = false;\r\n      userWatched.splice(movieIndex, 1);\r\n      refs.addToWatchedBtn.textContent = 'Add to Watched';\r\n      refs.addToWatchedBtn.classList.remove('js-is-in-watched');\r\n      toastr['success']('Removed from your Watched list');\r\n\r\n      return userWatched;\r\n    } else {\r\n      const isDublicate = userWatched.some(function (movie) {\r\n        return movie.id === movieData.id;\r\n      });\r\n      if (isDublicate) {\r\n        console.log('this movie has already been added');\r\n        toastr['warning']('This movie has already been added');\r\n        return userWatched;\r\n      } else if (!isDublicate) {\r\n        movieData.isInWatched = true;\r\n        userWatched.push(movieData);\r\n        toastr['success']('Added to your Watched list');\r\n        // изменение текста кнопки\r\n        refs.addToWatchedBtn.textContent = 'Watched (remove)';\r\n        refs.addToWatchedBtn.classList.add('js-is-in-watched');\r\n\r\n        return userWatched;\r\n      }\r\n      return userWatched;\r\n    }\r\n  } else {\r\n    movieData.isInWatched = true;\r\n    userWatched.push(movieData);\r\n    toastr['success']('Added to your Watched list');\r\n    // изменение текста кнопки\r\n    refs.addToWatchedBtn.textContent = 'Watched (remove)';\r\n    refs.addToWatchedBtn.classList.add('js-is-in-watched');\r\n  }\r\n\r\n  return userWatched;\r\n}\r\n\r\nexport function addToLocalWatched(array) {\r\n  // console.log(array);\r\n  localStorage.setItem('localWatched', JSON.stringify(array));\r\n}\r\n\r\n// QUEUE LIBRARY (ADD MOVIES TO USER QUEUE IN THE LOCAL STORAGE)\r\n// LOCAL STORAGE KEY = localQueue\r\n\r\nexport function updateUserQueue(movieData) {\r\n  let userQueue = [];\r\n  let localQueue = localStorage.getItem('localQueue');\r\n\r\n  if (localQueue) {\r\n    userQueue = JSON.parse(localQueue);\r\n\r\n    if (refs.addToQueueBtn.classList.contains('js-is-in-queue')) {\r\n      let movieIndex = userQueue.findIndex(movie => movie.id === movieData.id);\r\n      movieData.isInQueue = false;\r\n      userQueue.splice(movieIndex, 1);\r\n      refs.addToQueueBtn.textContent = 'Add to Queue';\r\n      refs.addToQueueBtn.classList.remove('js-is-in-queue');\r\n      toastr['success']('Removed from your Queue');\r\n      return userQueue;\r\n    } else {\r\n      if (isInWatched(movieData)) {\r\n        console.log('you`ve already watched this movie');\r\n        toastr['warning']('You`ve alredy watched this movie');\r\n        return userQueue;\r\n      } else {\r\n        const isDublicate = userQueue.some(function (movie) {\r\n          return movie.id === movieData.id;\r\n        });\r\n        if (isDublicate) {\r\n          console.log('this movie has already been added');\r\n          toastr['warning']('This movie has already been added');\r\n          return userQueue;\r\n        } else if (!isDublicate) {\r\n          userQueue.push(movieData);\r\n          movieData.isInQueue = true;\r\n          toastr['success']('Added to your Queue');\r\n          // изменение текста кнопки\r\n          refs.addToQueueBtn.textContent = 'In Queue (remove)';\r\n          refs.addToQueueBtn.classList.add('js-is-in-queue');\r\n          return userQueue;\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    userQueue.push(movieData);\r\n    movieData.isInQueue = true;\r\n    toastr['success']('Added to your Queue');\r\n    // изменение текста кнопки\r\n    refs.addToQueueBtn.textContent = 'In Queue (remove)';\r\n    refs.addToQueueBtn.classList.add('js-is-in-queue');\r\n    return userQueue;\r\n  }\r\n}\r\n\r\nexport function addToLocalQueue(array) {\r\n  // console.log(array);\r\n  localStorage.setItem('localQueue', JSON.stringify(array));\r\n}\r\n\r\n// CHECK IF WATCHED MOVIE IS ON QUEUE. DELETE IF SO\r\nexport function checkIfInQueue(movieData) {\r\n  // let userQueue = [];\r\n  let localQueue = localStorage.getItem('localQueue');\r\n\r\n  if (localQueue) {\r\n    let userQueue = JSON.parse(localQueue);\r\n    const isDublicate = userQueue.some(function (movie) {\r\n      return movie.id === movieData.id;\r\n    });\r\n    if (isDublicate) {\r\n      let movieIndex = userQueue.findIndex(movie => movie.id === movieData.id);\r\n      userQueue.splice(movieIndex, 1);\r\n      movieData.isInQueue = false;\r\n\r\n      refs.addToQueueBtn.textContent = 'Add to Queue';\r\n      refs.addToQueueBtn.classList.remove('js-is-in-queue');\r\n\r\n      console.log('movie was deleted wrom Queue and added to watched');\r\n      addToLocalQueue(userQueue);\r\n    }\r\n    // return;\r\n  }\r\n}\r\n\r\n// IS THIS MOVIE IS ALREADY WATCHED (DO NOT ADD TO QUEUE)\r\nfunction isInWatched(movieData) {\r\n  let userWatched = [];\r\n  let localWatched = localStorage.getItem('localWatched');\r\n\r\n  if (localWatched) {\r\n    userWatched = JSON.parse(localWatched);\r\n    const isDublicate = userWatched.some(function (movie) {\r\n      return movie.id === movieData.id;\r\n    });\r\n    return isDublicate;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n// UPDATE BUTTONS IN MOVIECARD IF USER HAS wATCHeD THE MOVIE\r\nexport function checkIfIsInUserLibrary(movieData) {\r\n  // CHECK UZER WATCHeD\r\n  let localWatched = localStorage.getItem('localWatched');\r\n\r\n  if (localWatched) {\r\n    let userWatched = JSON.parse(localWatched);\r\n    const isDublicate = userWatched.some(movie => movie.id === movieData.id);\r\n    console.log(isDublicate);\r\n    if (isDublicate) {\r\n      let movieIndex = userWatched.findIndex(\r\n        movie => movie.id === movieData.id,\r\n      );\r\n      console.log(movieIndex);\r\n      if (userWatched[movieIndex].isInWatched) {\r\n        refs.addToWatchedBtn.textContent = 'Watched (remove)';\r\n        refs.addToWatchedBtn.classList.add('js-is-in-watched');\r\n      }\r\n    }\r\n  }\r\n  // CHECK USER QUEUE\r\n  let localQueue = localStorage.getItem('localQueue');\r\n\r\n  if (localQueue) {\r\n    let userQueue = JSON.parse(localQueue);\r\n    const isDublicate = userQueue.some(movie => movie.id === movieData.id);\r\n    console.log(isDublicate);\r\n    if (isDublicate) {\r\n      let movieIndex = userQueue.findIndex(movie => movie.id === movieData.id);\r\n      console.log(movieIndex);\r\n      if (userQueue[movieIndex].isInQueue) {\r\n        refs.addToQueueBtn.textContent = 'In queue (remove)';\r\n        refs.addToQueueBtn.classList.add('js-is-in-queue');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import headerTemplates from './components/headers-tpl';\r\nimport movieDetailedCardTemplate from '../templates/details-modal.hbs';\r\nimport renderFilmsGallery from './homePageRendering';\r\nimport listenSearchFormSubmit from './movieSearch';\r\nimport genres from './decodingJenres';\r\nimport refs from './refs';\r\nimport {\r\n  addToLocalWatched,\r\n  updateUserWatched,\r\n  addToLocalQueue,\r\n  updateUserQueue,\r\n  checkIfInQueue,\r\n  checkIfIsInUserLibrary,\r\n} from './userLibrary';\r\n\r\nconst apiKey = 'ffddee44025dd24685ea61d637d56d24';\r\nconst baseUrl = 'https://api.themoviedb.org/3/movie/';\r\nlet movieId = 0;\r\nlet currentPage = 0;\r\nlet inputValue = \"\";\r\nlet activeLink = \"\";\r\nlet activeBtn = \"\";\r\n\r\nrefs.headerSearchInput = document.querySelector('.header-search-form-input');\r\nrefs.filmsGallery = document.querySelector('.films-gallery-container');\r\nrefs.header = document.querySelector('.header-container-js');\r\nrefs.main = document.querySelector('main');\r\nrefs.filmsGalleryList = document.querySelector('#films-gallery');\r\nrefs.pagination = document.querySelector('#pagination');\r\n\r\nrefs.headerSearchInput.addEventListener('change', getInputValue);\r\nrefs.filmsGalleryList.addEventListener('click', handleMovieDetails);\r\n\r\nfunction getActiveElements() {\r\nactiveLink = document.querySelector('.current').textContent;\r\ncurrentPage = Number(document.querySelector('.tui-is-selected').textContent);\r\n\r\n  if (activeLink === \"MY LIBRARY\") {\r\n    refs.activeBtn = document.querySelector('.is-active-btn');\r\n    activeBtn = refs.activeBtn.textContent;\r\n  }\r\n  return [activeLink, currentPage, activeBtn];\r\n}\r\n\r\n\r\nfunction getInputValue(event) {\r\n  inputValue = event.target.value;\r\n  return inputValue;\r\n}\r\n\r\nfunction handleMovieDetails(event) {\r\n  getActiveElements();\r\n\r\n  if (event.target.parentNode.nodeName !== 'LI') {\r\n    return;\r\n  }\r\n\r\n  movieId = event.target.parentNode.dataset.id;\r\n  refs.spinner.classList.add('is-open');\r\n  getMovieDetails(baseUrl, apiKey, movieId)\r\n    .then(data => {\r\n      const newData = {\r\n        id: data.id,\r\n        poster_path: data.poster_path,\r\n        title: data.title,\r\n        vote_average: data.vote_average,\r\n        vote_count: data.vote_count,\r\n        popularity: Math.ceil(data.popularity * 10) / 10,\r\n        original_title: data.original_title,\r\n        overview: data.overview,\r\n        genres: data.genres.slice(0, 2).map(({ name }) => name),\r\n        release_date: data.release_date.split('-')[0],\r\n      };\r\n      if (data.genres.length > 2) {\r\n        newData.genres.push('Other');\r\n      }\r\n\r\n      const modalMovieCard = movieDetailedCardTemplate(newData);\r\n      renderMovieDetailsPage(modalMovieCard);\r\n\r\n      window.addEventListener('keydown', onPressESC);\r\n      refs.main.addEventListener('click', closeOnClick);\r\n\r\n      // ADD BUTTUNS & CHECK IF THE MOVIE IS IN USER LIBRARY\r\n      refs.addToWatchedBtn = document.querySelector('#js-watched-button');\r\n      refs.addToQueueBtn = document.querySelector('#js-queue-button');\r\n      checkIfIsInUserLibrary(newData);\r\n\r\n      // WATCHED BUTTON HANDLER\r\n      refs.addToWatchedBtn.addEventListener('click', e => {\r\n        checkIfInQueue(newData);\r\n        addToLocalWatched(updateUserWatched(newData));\r\n      });\r\n\r\n      // QUEUE BUTTON HANDLER\r\n      refs.addToQueueBtn.addEventListener('click', e => {\r\n        addToLocalQueue(updateUserQueue(newData));\r\n      });\r\n    })\r\n    .catch(error => console.log(error))\r\n    .finally(() => {\r\n      refs.spinner.classList.remove('is-open');\r\n    });\r\n}\r\n\r\nfunction getMovieDetails(baseUrl, apiKey, movieId) {\r\n  return fetch(`${baseUrl}${movieId}?api_key=${apiKey}&language=en-US`)\r\n    .then(response => response.json())\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n\r\nfunction renderMovieDetailsPage(modalMovieCard) {\r\n  // document.querySelector('.header-container');\r\n  refs.header.innerHTML = '';\r\n  refs.filmsGalleryList.innerHTML = '';\r\n  refs.filmsGalleryList.style.display = 'none';\r\n  refs.pagination.style.display = 'none';\r\n  refs.header.insertAdjacentHTML('beforeend', headerTemplates.modalHeader);\r\n  refs.filmsGallery.insertAdjacentHTML('afterbegin', modalMovieCard);\r\n}\r\n\r\nfunction closeMovieDetails() {\r\n  refs.header.innerHTML = \"\";\r\n  document.querySelector('.modal').remove();\r\n  refs.filmsGalleryList.style.display = 'flex';\r\n\r\n  if (activeLink === \"HOME\") {\r\n    refs.header.insertAdjacentHTML('beforeend', headerTemplates.homeHeader);\r\n    refs.searchForm = document.querySelector('#search-form');\r\n    refs.searchForm.addEventListener('submit', listenSearchFormSubmit);\r\n\r\n    if (inputValue !== \"\") {\r\n      renderSearchFilmsGallery(currentPage, genres, inputValue);\r\n  } else {\r\n      renderFilmsGallery(currentPage, genres);\r\n    };\r\n    refs.pagination.style.display = 'block';\r\n  }\r\n  \r\n  if (activeLink === \"MY LIBRARY\") {\r\n    refs.header.insertAdjacentHTML('beforeend', headerTemplates.myLibraryHeader);\r\n    const userLocalStorageWatched = JSON.parse(localStorage.getItem('localWatched'));\r\n    const userLocalStorageQueue = JSON.parse(localStorage.getItem('localQueue'));\r\n\r\n    if (activeBtn === \"watched\") {\r\n      renderLibrary(userLocalStorageWatched);\r\n    } else {\r\n      renderLibrary(userLocalStorageQueue);\r\n    }\r\n\r\n    refs.watchedBtn = document.querySelector('.header-button-watched');\r\n    refs.queueBtn = document.querySelector('.header-button-queue');\r\n    \r\n    onLibraryButtonsClick(refs.queueBtn, refs.watchedBtn, userLocalStorageQueue);\r\n    onLibraryButtonsClick(refs.watchedBtn, refs.queueBtn, userLocalStorageWatched);\r\n  }\r\n  \r\n  // inputValue = \"\";\r\n}\r\n\r\nfunction onPressESC(event) {\r\n  if (event.code === 'Escape') {\r\n    closeMovieDetails();\r\n    window.removeEventListener('keydown', onPressESC);\r\n  }\r\n}\r\n\r\nfunction closeOnClick(event) {\r\n  switch (event.target) {\r\n    case refs.addToWatchedBtn:\r\n    case refs.addToQueueBtn:\r\n      break;\r\n    default:\r\n      closeMovieDetails();\r\n      refs.main.removeEventListener('click', closeOnClick);\r\n  }\r\n}\r\n\r\n\r\n// ========RENDER SearchGalleryFilms============\r\nfunction renderSearchFilmsGallery(currentPage, genres, inputValue) {\r\n\r\n  return fetchApiSearch(currentPage, inputValue).then(({ results, total_results }) => {\r\n    updateFilmsGalleryMarkup(results, genres);\r\n    const data = {\r\n      totalAmountOfFilms: total_results,\r\n    };\r\n\r\n    return data;\r\n  });\r\n}\r\nfunction fetchApiSearch(currentPage, inputValue) {\r\n    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&query=${inputValue}&page=${currentPage}&include_adult=false`)\r\n      .then(res => res.json());\r\n}\r\n  \r\n\r\nfunction updateFilmsGalleryMarkup(films, genres) {\r\n  films.map(({ id, poster_path, title, release_date, genre_ids }) => {\r\n    const filteredGenres = genres.filter(genre => genre_ids.includes(genre.id));\r\n\r\n    const mapedGenres = filteredGenres.map(({ name }) => name);\r\n\r\n    let slicedMapedGenres = [];\r\n\r\n    if (mapedGenres.length < 3) {\r\n      slicedMapedGenres = mapedGenres;\r\n    } else {\r\n      slicedMapedGenres = mapedGenres.slice(0, 2);\r\n      slicedMapedGenres.push('Other');\r\n    }\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${slicedMapedGenres.join(', ')} | ${\r\n      release_date.split('-')[0]\r\n    }</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGalleryList.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}\r\n\r\n\r\nfunction onLibraryButtonsClick(activeBtn, inactiveBtn, films) {\r\n    activeBtn.addEventListener('click', event => {\r\n      event.preventDefault();\r\n      refs.filmsGalleryList.innerHTML = '';\r\n      renderLibrary(films);\r\n      inactiveBtn.classList.remove('is-active-btn');\r\n      activeBtn.classList.add('is-active-btn');\r\n    });\r\n}\r\n\r\nfunction renderLibrary(films) {\r\n  films.map(({ id, poster_path, title, release_date, genres }) => {\r\n    const markup = `\r\n<li class=\"films-gallery-item\" data-id=\"${id}\">\r\n  <img\r\n    class=\"films-gallery-item-image\"\r\n    src=\"https://image.tmdb.org/t/p/w342${poster_path}\"\r\n    alt=\"«${title}» film poster\"\r\n  >\r\n  <p class=\"films-gallery-item-title\">${title.toUpperCase()}</p>\r\n  <p class=\"films-gallery-item-info\">${genres} | ${release_date}</p>\r\n</li>\r\n`;\r\n\r\n    refs.filmsGalleryList.insertAdjacentHTML('beforeend', markup);\r\n  });\r\n}","import refs from './refs';\r\n\r\nrefs.openModalBtn.addEventListener('click', onOpenModal),\r\n  refs.closeModalBtn.addEventListener('click', onCloseModal),\r\n  refs.backdrop.addEventListener('click', onBackdropClick);\r\n\r\nfunction onOpenModal() {\r\n  window.addEventListener('keydown', onEscKeyPress);\r\n  refs.backdrop.classList.remove('is-hidden');\r\n  document.body.classList.add('show-modal');\r\n}\r\n\r\nfunction onCloseModal() {\r\n  window.removeEventListener('keydown', onEscKeyPress);\r\n  document.body.classList.remove('show-modal');\r\n}\r\n\r\nfunction onBackdropClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction onEscKeyPress(event) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const isEscKey = event.code === ESC_KEY_CODE;\r\n\r\n  if (isEscKey) {\r\n    onCloseModal();\r\n  }\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebaseui';\r\nimport '../../node_modules/firebaseui/dist/firebaseui.css';\r\nimport './modal-login';\r\nimport refs from './refs';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyC7TRb9mfyMhzQU-yq3pDKTxl2-zaHwRmo',\r\n  authDomain: 'filmoteka-login.firebaseapp.com',\r\n  databaseURL:\r\n    'https://filmoteka-login-default-rtdb.europe-west1.firebasedatabase.app',\r\n  projectId: 'filmoteka-login',\r\n  storageBucket: 'filmoteka-login.appspot.com',\r\n  messagingSenderId: '658952655924',\r\n  appId: '1:658952655924:web:26304edc0b944079c1e661',\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\nconst ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nconst uiStart = () => ui.start('#firebaseui-auth-container', uiConfig);\r\n//phoneAuth\r\nnew firebase.auth.PhoneAuthProvider();\r\n\r\nconst uiConfig = {\r\n  signInFlow: 'popup',\r\n  signInOptions: [\r\n    firebase.auth.PhoneAuthProvider.PROVIDER_ID,\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n    firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID,\r\n  ],\r\n};\r\nrefs.logOutbutton.addEventListener('click', e => {\r\n  firebase.auth().signOut();\r\n});\r\n\r\n// login state\r\nfirebase.auth().onAuthStateChanged(firebaseUser => {\r\n  if (firebaseUser) {\r\n    let displayName = firebaseUser.displayName;\r\n    if (displayName === null) {\r\n      displayName = 'guest';\r\n    }\r\n    refs.userName.innerHTML = `${displayName}`;\r\n    document.body.classList.remove('show-modal');\r\n    showLogOutbutton();\r\n  } else {\r\n    refs.userName.innerHTML = '';\r\n    showOpenModalBtn();\r\n    uiStart();\r\n  }\r\n});\r\n\r\nfunction showLogOutbutton() {\r\n  refs.logOutbutton.classList.remove('is-hidden');\r\n  refs.openModalBtn.classList.add('is-hidden');\r\n}\r\n\r\nfunction showOpenModalBtn() {\r\n  refs.openModalBtn.classList.remove('is-hidden');\r\n  refs.logOutbutton.classList.add('is-hidden');\r\n}\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport photoRed from '../images/photo-red.jpg';\r\n\r\nconst markupStudent = `<div class=\"team-wrapper\">\r\n<div class=\"team-card\">\r\n <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01301DGATC-U013V8Q7HU1-b66c40babb7d-192\"\r\n  >\r\n    <p class=\"team-name\">Rostyslav Zahorulko</p>\r\n    <p class=\"team-role\">Team Lead</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n     <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01A5LX36UT-d79e95c64409-5122\"\r\n  >\r\n    <p class=\"team-name\">Arkadii Basovych</p>\r\n    <p class=\"team-role\">Scrum Master</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01A9LTBZA8-06cbe1fcd7b6-512\"\r\n  >\r\n    <p class=\"team-name\">Oksana Cherepanova</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019WN8GZJS-380c6cd06280-512\"\r\n  >\r\n    <p class=\"team-name\">Natalia Duvirak</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01AT710YLQ-3a6d16128ec7-512\"\r\n  >\r\n    <p class=\"team-name\">David<br>Shakaya</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01A3HTTQE6-4c9caf01316f-512\"\r\n  >\r\n    <p class=\"team-name\">Oleksii Maistriuk</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n   <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U01ATCQ5GKA-46dd5abf2215-512\"\r\n  >\r\n    <p class=\"team-name\">Zoe<br>Baletska</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019WKPR89L-21c1789a67bc-512\"\r\n  >\r\n    <p class=\"team-name\">Serhii<br>Koziuba</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019WP9NVN2-6122ddfef0b5-512\"\r\n  >\r\n    <p class=\"team-name\">Konstantin Bruno</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n    <img\r\n    class=\"team-image\"\r\n    src=\"${photoRed}\"\r\n  >\r\n    <p class=\"team-name\">Iryna<br>Redka</p>\r\n    <p class=\"team-role\">Developer</p>\r\n    \r\n</div>\r\n<div class=\"team-card\">\r\n   <img\r\n    class=\"team-image\"\r\n    src=\"https://ca.slack-edge.com/T01AD58HHH7-U019P8QMTUP-6513aed3ebc7-512\"\r\n  >\r\n    <p class=\"team-name\">Larysa Smyrnova</p>\r\n    <p class=\"team-role\">Developer</p>\r\n</div>\r\n</div>`;\r\nconst container = document.querySelector('.open-modal-develop');\r\n\r\ncontainer.addEventListener('click', openModalStudent);\r\n\r\nconst modal = basicLightbox.create(markupStudent);\r\n\r\nfunction openModalStudent(e) {\r\n  modal.show();\r\n\r\n  window.addEventListener('keydown', closeModalHandler);\r\n\r\n  function closeModalHandler(e) {\r\n    if (e.code === 'Escape') {\r\n      modal.close();\r\n      window.removeEventListener('keydown', closeModalHandler);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}